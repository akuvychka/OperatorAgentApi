  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (8.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS `OperatorAgentApi_test`[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE `OperatorAgentApi_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS `clients` CASCADE[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `clients` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `surname` varchar(255), `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS `companions` CASCADE[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `companions` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `user_id` bigint, `contact_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_companions_on_user_id`  (`user_id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `contracts` CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `contracts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `client_id` int, `user_id` int, `insurance_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS `insurances` CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `insurances` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `agency_name` varchar(255), `insurance_type` varchar(255), `total_cost` float(24), `period` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS `users` CASCADE[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `surname` varchar(255), `email` varchar(255), `user_role` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES (20201111105446)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (version) VALUES
(20201110194501),
(20201111104008),
(20201111104312),
(20201111104501);

[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'test', '2020-11-11 23:55:11.732493', '2020-11-11 23:55:11.732493')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('schema_sha1', '81bc74db61772621330c6eb26407aebdac1c4fd1', '2020-11-11 23:55:11.736201', '2020-11-11 23:55:11.736201')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-11 23:56:54.472820', '2020-11-11 23:56:54.472820')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-11 23:57:16.265321', '2020-11-11 23:57:16.265321')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 01:57:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: []\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 620)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-11 23:57:16.297644', '2020-11-11 23:57:16.297644')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 01:57:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [3]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-11 23:58:21.501168', '2020-11-11 23:58:21.501168')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 01:58:21 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: []\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-11 23:58:21.522103', '2020-11-11 23:58:21.522103')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 01:58:21 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [5]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 01:59:18 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [5]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 453)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:00:10.638468', '2020-11-12 00:00:10.638468')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:00:10 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: []\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:00:10.659041', '2020-11-12 00:00:10.659041')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:00:10 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [7]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:00:31.026364', '2020-11-12 00:00:31.026364')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:00:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: []\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:00:31.081971', '2020-11-12 00:00:31.081971')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:00:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [9]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 462)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:01:05.473574', '2020-11-12 00:01:05.473574')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:01:05 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: []\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 620)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:01:05.497968', '2020-11-12 00:01:05.497968')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:01:05 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [11]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:01:58.483839', '2020-11-12 00:01:58.483839')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:01:58 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [12]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:01:58.504312', '2020-11-12 00:01:58.504312')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:01:58 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [13]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:02:38.252306', '2020-11-12 00:02:38.252306')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:02:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [14]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:02:38.272870', '2020-11-12 00:02:38.272870')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:02:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [15]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:02:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [15]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 445)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:03:24.343565', '2020-11-12 00:03:24.343565')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:03:24 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [16]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:03:24.381888', '2020-11-12 00:03:24.381888')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:03:24 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [17]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 462)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:04:33.510683', '2020-11-12 00:04:33.510683')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:04:33 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [18]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:05:00.964689', '2020-11-12 00:05:00.964689')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:05:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [19]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:05:44.677945', '2020-11-12 00:05:44.677945')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:05:44 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [20]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:06:51.143986', '2020-11-12 00:06:51.143986')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:06:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [21]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 620)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:06:51.182123', '2020-11-12 00:06:51.182123')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:06:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [22]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 462)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:08:49.366148', '2020-11-12 00:08:49.366148')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:08:49 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [23]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 23 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 10326)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:08:49.441681', '2020-11-12 00:08:49.441681')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:08:49 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [24]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 24 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1160)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:09:36.394044', '2020-11-12 00:09:36.394044')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:09:36 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [25]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 25 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 24736ms (ActiveRecord: 0.5ms | Allocations: 41626)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:10:08.044644', '2020-11-12 00:10:08.044644')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:10:08 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [26]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
Completed 500 Internal Server Error in 2600ms (ActiveRecord: 0.0ms | Allocations: 41184)
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:10:18.559785', '2020-11-12 00:10:18.559785')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:10:18 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [27]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 27 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 10326)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:10:18.609572', '2020-11-12 00:10:18.609572')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:10:18 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [28]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 28 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1160)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:12:00.934139', '2020-11-12 00:12:00.934139')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:12:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [29]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 29 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 10326)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:12:00.982901', '2020-11-12 00:12:00.982901')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:12:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [30]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 30 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1160)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:12:31.455230', '2020-11-12 00:12:31.455230')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:12:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [31]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 31 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 10331)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:12:31.505576', '2020-11-12 00:12:31.505576')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:12:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [32]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 32 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1164)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:12:50.193383', '2020-11-12 00:12:50.193383')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:12:50 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [33]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 33 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 10341)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:12:50.242618', '2020-11-12 00:12:50.242618')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:12:50 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [34]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 34 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1169)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:13:17.614239', '2020-11-12 00:13:17.614239')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:13:17 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [35]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 35 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 10341)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:13:17.663784', '2020-11-12 00:13:17.663784')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:13:17 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [36]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 36 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1169)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:13:42.564428', '2020-11-12 00:13:42.564428')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:13:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [37]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 37 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 10341)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:13:42.613541', '2020-11-12 00:13:42.613541')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:13:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  userCreate(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [38]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 38 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1169)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:14:45.106602', '2020-11-12 00:14:45.106602')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:14:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [39]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 39 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 15ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 10807)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:14:45.157036', '2020-11-12 00:14:45.157036')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:14:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(\n    email: \"email@email.email\"\n    name: \"test name\" \n    user_role: \"operator\"\n    contacts: [40]\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 40 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2052)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:15:14.640381', '2020-11-12 00:15:14.640381')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:15:14 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     user_role: \"operator\"\n     contacts: [41]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 41 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 10371)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:15:14.688632', '2020-11-12 00:15:14.688632')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:15:14 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     user_role: \"operator\"\n     contacts: [42]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 42 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1611)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:15:30.286231', '2020-11-12 00:15:30.286231')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:15:30 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [43]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 43 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:15:30.315455', '2020-11-12 00:15:30.315455')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.6ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 44 AND `companions`.`contact_id` = 43 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 44 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 43 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (44, 43, '2020-11-12 00:15:30.334508', '2020-11-12 00:15:30.334508')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 44 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 44[0m
Completed 200 OK in 48ms (Views: 0.3ms | ActiveRecord: 5.0ms | Allocations: 21469)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:15:30.352232', '2020-11-12 00:15:30.352232')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:15:30 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [45]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 45 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:15:30.361889', '2020-11-12 00:15:30.361889')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 46 AND `companions`.`contact_id` = 45 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 46 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 45 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (46, 45, '2020-11-12 00:15:30.364583', '2020-11-12 00:15:30.364583')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 46 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 46[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4541)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:16:21.486274', '2020-11-12 00:16:21.486274')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:16:21 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [47]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 47 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:16:21.514856', '2020-11-12 00:16:21.514856')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 48 AND `companions`.`contact_id` = 47 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 48 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 47 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (48, 47, '2020-11-12 00:16:21.526248', '2020-11-12 00:16:21.526248')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 48 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 48[0m
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 21468)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:16:21.535800', '2020-11-12 00:16:21.535800')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:16:21 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [49]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 49 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:16:21.544684', '2020-11-12 00:16:21.544684')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 50 AND `companions`.`contact_id` = 49 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 50 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 49 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (50, 49, '2020-11-12 00:16:21.547285', '2020-11-12 00:16:21.547285')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 50 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 50[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 4541)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:21:47.742315', '2020-11-12 00:21:47.742315')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:21:47 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [51]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 51 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:21:47.772174', '2020-11-12 00:21:47.772174')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 52 AND `companions`.`contact_id` = 51 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 52 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 51 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (52, 51, '2020-11-12 00:21:47.783511', '2020-11-12 00:21:47.783511')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 52 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 52[0m
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 21468)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:21:47.792942', '2020-11-12 00:21:47.792942')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:21:47 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [53]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 53 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:21:47.802181', '2020-11-12 00:21:47.802181')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 54 AND `companions`.`contact_id` = 53 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 54 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 53 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (54, 53, '2020-11-12 00:21:47.804829', '2020-11-12 00:21:47.804829')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 54 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 54[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4541)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:21:47.810512', '2020-11-12 00:21:47.810512')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:21:47.812266', '2020-11-12 00:21:47.812266')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:21:47 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [55]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 56 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3453)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:05.934337', '2020-11-12 00:24:05.934337')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:05 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [57]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 57 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:24:05.964132', '2020-11-12 00:24:05.964132')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 58 AND `companions`.`contact_id` = 57 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 58 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 57 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (58, 57, '2020-11-12 00:24:05.975228', '2020-11-12 00:24:05.975228')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 58 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 58[0m
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 21335)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:05.984774', '2020-11-12 00:24:05.984774')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:05 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [59]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 59 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:24:05.993657', '2020-11-12 00:24:05.993657')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 60 AND `companions`.`contact_id` = 59 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 60 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 59 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (60, 59, '2020-11-12 00:24:05.996444', '2020-11-12 00:24:05.996444')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 60 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 60[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 4541)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:06.002159', '2020-11-12 00:24:06.002159')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:24:06.004037', '2020-11-12 00:24:06.004037')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:06 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [61]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 62 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3453)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:06.017452', '2020-11-12 00:24:06.017452')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:24:06.019331', '2020-11-12 00:24:06.019331')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:06 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 64\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 63 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 64 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.6ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 64[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 64[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 64[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.4ms | Allocations: 3122)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:06.036964', '2020-11-12 00:24:06.036964')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:24:06.038712', '2020-11-12 00:24:06.038712')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:06 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: [65]\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 66 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1202)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:25.562857', '2020-11-12 00:24:25.562857')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:25 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [67]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 67 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:24:25.592260', '2020-11-12 00:24:25.592260')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 68 AND `companions`.`contact_id` = 67 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 68 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 67 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (68, 67, '2020-11-12 00:24:25.603803', '2020-11-12 00:24:25.603803')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 68 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 68[0m
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 21335)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:25.613551', '2020-11-12 00:24:25.613551')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:25 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [69]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 69 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:24:25.622626', '2020-11-12 00:24:25.622626')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 70 AND `companions`.`contact_id` = 69 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 70 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 69 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (70, 69, '2020-11-12 00:24:25.625435', '2020-11-12 00:24:25.625435')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 70 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 70[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 4541)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:25.631618', '2020-11-12 00:24:25.631618')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:24:25.633348', '2020-11-12 00:24:25.633348')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:25 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [71]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 72 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3453)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:25.646337', '2020-11-12 00:24:25.646337')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:24:25.647913', '2020-11-12 00:24:25.647913')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:25 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 74\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 73 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 74 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 74[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 74[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 74[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3123)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:24:25.663944', '2020-11-12 00:24:25.663944')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:24:25.665759', '2020-11-12 00:24:25.665759')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:24:25 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 75\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 76 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1383)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.642020', '2020-11-12 00:44:51.642020')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [77]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 77 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:44:51.701321', '2020-11-12 00:44:51.701321')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 78 AND `companions`.`contact_id` = 77 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 78 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 77 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (78, 77, '2020-11-12 00:44:51.719980', '2020-11-12 00:44:51.719980')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 78 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 78[0m
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 20920)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.736781', '2020-11-12 00:44:51.736781')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [79]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 79 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:44:51.746838', '2020-11-12 00:44:51.746838')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 80 AND `companions`.`contact_id` = 79 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 80 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 79 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (80, 79, '2020-11-12 00:44:51.749803', '2020-11-12 00:44:51.749803')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 80 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 80[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 4541)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.756902', '2020-11-12 00:44:51.756902')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:44:51.758875', '2020-11-12 00:44:51.758875')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [81]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 82 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3453)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.774843', '2020-11-12 00:44:51.774843')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:44:51.776593', '2020-11-12 00:44:51.776593')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 84\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 83 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 84 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 84[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 84[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 84[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 3123)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.794874', '2020-11-12 00:44:51.794874')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:44:51.796972', '2020-11-12 00:44:51.796972')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 85\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 86 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1383)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.808628', '2020-11-12 00:44:51.808628')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:44:51.810416', '2020-11-12 00:44:51.810416')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 88\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 87 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 88 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 88 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 00:44:51.833297' WHERE `users`.`id` = 88[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 88[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 88 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3292)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 88 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:44:51.839383', '2020-11-12 00:44:51.839383')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.841102', '2020-11-12 00:44:51.841102')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 89\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 90 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 89 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 89 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 00:44:51.850448' WHERE `users`.`id` = 89[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 89[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 89 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3203)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:44:51.855801', '2020-11-12 00:44:51.855801')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:44:51.857603', '2020-11-12 00:44:51.857603')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:44:51 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 91\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 92 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 91 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 92 AND `users`.`id` = 91 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2187)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.491843', '2020-11-12 00:58:11.491843')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 93 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 00:58:11.554730', '2020-11-12 00:58:11.554730')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 13442)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.562707', '2020-11-12 00:58:11.562707')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 94 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 00:58:11.572621', '2020-11-12 00:58:11.572621')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2451)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.593867', '2020-11-12 00:58:11.593867')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 95 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 00:58:11.608874', '2020-11-12 00:58:11.608874')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3934)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.614168', '2020-11-12 00:58:11.614168')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:58:11.616066', '2020-11-12 00:58:11.616066')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 4\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 96 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1623)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:58:11.660156', '2020-11-12 00:58:11.660156')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.662070', '2020-11-12 00:58:11.662070')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 5\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 97 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.675137', '2020-11-12 00:58:11.675137')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:58:11.676989', '2020-11-12 00:58:11.676989')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 6\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 98 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 6 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 00:58:11.687404' WHERE `clients`.`id` = 6[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2705)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:58:11.692034', '2020-11-12 00:58:11.692034')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.693910', '2020-11-12 00:58:11.693910')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 7\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 99 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 7 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 00:58:11.703735' WHERE `clients`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:58:11.707882', '2020-11-12 00:58:11.707882')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.709675', '2020-11-12 00:58:11.709675')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 8\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 100 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 8 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 00:58:11.718893' WHERE `clients`.`id` = 8[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.723013', '2020-11-12 00:58:11.723013')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [101]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 101 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:58:11.732615', '2020-11-12 00:58:11.732615')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 102 AND `companions`.`contact_id` = 101 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 102 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 101 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (102, 101, '2020-11-12 00:58:11.747561', '2020-11-12 00:58:11.747561')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 102 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 102[0m
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 3.8ms | Allocations: 12356)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.759282', '2020-11-12 00:58:11.759282')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [103]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 103 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:58:11.768356', '2020-11-12 00:58:11.768356')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 104 AND `companions`.`contact_id` = 103 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 104 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 103 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (104, 103, '2020-11-12 00:58:11.771098', '2020-11-12 00:58:11.771098')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 104 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 104[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 4541)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.776790', '2020-11-12 00:58:11.776790')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.778682', '2020-11-12 00:58:11.778682')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [105]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 106 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1637)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.790435', '2020-11-12 00:58:11.790435')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.792203', '2020-11-12 00:58:11.792203')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 108\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 107 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 108 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 108[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 108[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 108[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2990)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.809118', '2020-11-12 00:58:11.809118')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.810873', '2020-11-12 00:58:11.810873')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 109\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 110 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.821913', '2020-11-12 00:58:11.821913')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.823568', '2020-11-12 00:58:11.823568')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 112\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 111 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 112 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 112 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 00:58:11.843769' WHERE `users`.`id` = 112[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 112[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 112 LIMIT 1[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3258)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 112 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.849262', '2020-11-12 00:58:11.849262')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.850942', '2020-11-12 00:58:11.850942')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 113\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 114 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 113 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 113 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 00:58:11.860180' WHERE `users`.`id` = 113[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 113[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 113 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3204)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:58:11.865236', '2020-11-12 00:58:11.865236')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:58:11.866925', '2020-11-12 00:58:11.866925')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:58:11 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 115\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 116 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 115 LIMIT 1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 116 AND `users`.`id` = 115 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2188)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.614483', '2020-11-12 00:59:20.614483')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 117 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 00:59:20.650055', '2020-11-12 00:59:20.650055')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 13442)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.656645', '2020-11-12 00:59:20.656645')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 118 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 00:59:20.666257', '2020-11-12 00:59:20.666257')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.683147', '2020-11-12 00:59:20.683147')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 119 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 00:59:20.699626', '2020-11-12 00:59:20.699626')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3934)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.704925', '2020-11-12 00:59:20.704925')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:59:20.706850', '2020-11-12 00:59:20.706850')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 12\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 120 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 12[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 12[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4278)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:59:20.727527', '2020-11-12 00:59:20.727527')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.729472', '2020-11-12 00:59:20.729472')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 13\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 121 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1392)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.741956', '2020-11-12 00:59:20.741956')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:59:20.757593', '2020-11-12 00:59:20.757593')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 14\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 122 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 14 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 00:59:20.767391' WHERE `clients`.`id` = 14[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2572)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:59:20.771793', '2020-11-12 00:59:20.771793')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.773601', '2020-11-12 00:59:20.773601')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 15\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 123 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 15 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 00:59:20.783116' WHERE `clients`.`id` = 15[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2503)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 00:59:20.787564', '2020-11-12 00:59:20.787564')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.789375', '2020-11-12 00:59:20.789375')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 16\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 124 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 16 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 00:59:20.798812' WHERE `clients`.`id` = 16[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2533)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.803124', '2020-11-12 00:59:20.803124')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [125]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 125 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:59:20.813012', '2020-11-12 00:59:20.813012')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 126 AND `companions`.`contact_id` = 125 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 126 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 125 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (126, 125, '2020-11-12 00:59:20.825691', '2020-11-12 00:59:20.825691')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 126 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 126[0m
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 10795)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.836725', '2020-11-12 00:59:20.836725')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [127]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 127 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 00:59:20.846110', '2020-11-12 00:59:20.846110')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 128 AND `companions`.`contact_id` = 127 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 128 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 127 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (128, 127, '2020-11-12 00:59:20.849030', '2020-11-12 00:59:20.849030')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 128 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 128[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 4542)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.855080', '2020-11-12 00:59:20.855080')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.856824', '2020-11-12 00:59:20.856824')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [129]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 130 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1637)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.867782', '2020-11-12 00:59:20.867782')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.869579', '2020-11-12 00:59:20.869579')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 132\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 131 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 132 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 132[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 132[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 132[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2714)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.884043', '2020-11-12 00:59:20.884043')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.885794', '2020-11-12 00:59:20.885794')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 133\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 134 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.896398', '2020-11-12 00:59:20.896398')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.898064', '2020-11-12 00:59:20.898064')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 136\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 135 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 136 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 136 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 00:59:20.907235' WHERE `users`.`id` = 136[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 136[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 136 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3256)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 136 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.912483', '2020-11-12 00:59:20.912483')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.914315', '2020-11-12 00:59:20.914315')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 137\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 138 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 137 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 137 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 00:59:20.923492' WHERE `users`.`id` = 137[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 137[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 137 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3204)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 00:59:20.928610', '2020-11-12 00:59:20.928610')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 00:59:20.930226', '2020-11-12 00:59:20.930226')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 02:59:20 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 139\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 140 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 139 LIMIT 1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 140 AND `users`.`id` = 139 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2188)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.279719', '2020-11-12 01:00:22.279719')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 141 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:00:22.337653', '2020-11-12 01:00:22.337653')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 13442)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.344242', '2020-11-12 01:00:22.344242')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 142 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:00:22.354354', '2020-11-12 01:00:22.354354')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2451)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.371474', '2020-11-12 01:00:22.371474')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 143 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:00:22.386356', '2020-11-12 01:00:22.386356')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3934)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.392198', '2020-11-12 01:00:22.392198')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:00:22.394132', '2020-11-12 01:00:22.394132')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 20\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 144 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.4ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 20[0m
  [1m[36mClient Destroy (0.3ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 4281)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:00:22.433423', '2020-11-12 01:00:22.433423')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.435354', '2020-11-12 01:00:22.435354')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 21\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 145 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1392)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.448691', '2020-11-12 01:00:22.448691')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:00:22.450561', '2020-11-12 01:00:22.450561')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 22\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 146 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 22 LIMIT 1[0m
  [1m[36mClient Update (0.3ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:00:22.460307' WHERE `clients`.`id` = 22[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 2572)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:00:22.465015', '2020-11-12 01:00:22.465015')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.466861', '2020-11-12 01:00:22.466861')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 23\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 147 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 23 LIMIT 1[0m
  [1m[36mClient Update (0.3ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:00:22.476315' WHERE `clients`.`id` = 23[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2503)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:00:22.480458', '2020-11-12 01:00:22.480458')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.482280', '2020-11-12 01:00:22.482280')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 24\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 148 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 24 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:00:22.491692' WHERE `clients`.`id` = 24[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2533)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.495732', '2020-11-12 01:00:22.495732')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [149]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 149 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:00:22.505451', '2020-11-12 01:00:22.505451')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 150 AND `companions`.`contact_id` = 149 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 150 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 149 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (150, 149, '2020-11-12 01:00:22.518068', '2020-11-12 01:00:22.518068')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 150 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 150[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 10794)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.527790', '2020-11-12 01:00:22.527790')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [151]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 151 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:00:22.536995', '2020-11-12 01:00:22.536995')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 152 AND `companions`.`contact_id` = 151 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 152 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 151 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (152, 151, '2020-11-12 01:00:22.539796', '2020-11-12 01:00:22.539796')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 152 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 152[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 4542)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.545131', '2020-11-12 01:00:22.545131')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.546776', '2020-11-12 01:00:22.546776')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [153]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 154 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1637)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.557892', '2020-11-12 01:00:22.557892')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.559526', '2020-11-12 01:00:22.559526')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 156\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 155 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 156 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 156[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 156[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 156[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2712)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.574130', '2020-11-12 01:00:22.574130')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.575785', '2020-11-12 01:00:22.575785')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 157\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 158 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1384)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.586842', '2020-11-12 01:00:22.586842')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.588580', '2020-11-12 01:00:22.588580')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 160\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 159 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 160 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 160 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:00:22.598009' WHERE `users`.`id` = 160[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 160[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 160 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3256)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 160 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.603521', '2020-11-12 01:00:22.603521')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.605280', '2020-11-12 01:00:22.605280')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 161\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 162 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 161 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 161 LIMIT 1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:00:22.614429' WHERE `users`.`id` = 161[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 161[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 161 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 3204)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:00:22.619897', '2020-11-12 01:00:22.619897')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:00:22.621607', '2020-11-12 01:00:22.621607')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:00:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 163\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 164 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 163 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 164 AND `users`.`id` = 163 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 2190)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:03.456254', '2020-11-12 01:01:03.456254')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:03 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 165 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:03.492245', '2020-11-12 01:01:03.492245')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 15235)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:03.497746', '2020-11-12 01:01:03.497746')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:03 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 166 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:03.506535', '2020-11-12 01:01:03.506535')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:03.518856', '2020-11-12 01:01:03.518856')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:03 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 167 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:03.531089', '2020-11-12 01:01:03.531089')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 3934)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:33.013739', '2020-11-12 01:01:33.013739')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:33 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 168 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:33.050652', '2020-11-12 01:01:33.050652')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 15234)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:33.056029', '2020-11-12 01:01:33.056029')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:33 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 169 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:33.064775', '2020-11-12 01:01:33.064775')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2451)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:33.069084', '2020-11-12 01:01:33.069084')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:33 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 170 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:33.080530', '2020-11-12 01:01:33.080530')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 3830)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:37.937467', '2020-11-12 01:01:37.937467')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:37 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 171 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:37.971860', '2020-11-12 01:01:37.971860')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 13441)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:37.977927', '2020-11-12 01:01:37.977927')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:37 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 172 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:37.986477', '2020-11-12 01:01:37.986477')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:37.990712', '2020-11-12 01:01:37.990712')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:37 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 173 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:01:38.001805', '2020-11-12 01:01:38.001805')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.006339', '2020-11-12 01:01:38.006339')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:01:38.008114', '2020-11-12 01:01:38.008114')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 34\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 174 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 34[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 34[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 4261)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:01:38.025514', '2020-11-12 01:01:38.025514')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.027173', '2020-11-12 01:01:38.027173')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 35\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 175 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.037957', '2020-11-12 01:01:38.037957')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:01:38.039752', '2020-11-12 01:01:38.039752')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 36\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 176 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 36 LIMIT 1[0m
  [1m[36mClient Update (0.3ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:01:38.062104' WHERE `clients`.`id` = 36[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2571)
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:01:38.067238', '2020-11-12 01:01:38.067238')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.069061', '2020-11-12 01:01:38.069061')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 37\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 177 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 37 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:01:38.078296' WHERE `clients`.`id` = 37[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:01:38.082515', '2020-11-12 01:01:38.082515')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.084339', '2020-11-12 01:01:38.084339')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 38\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 178 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 38 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:01:38.093454' WHERE `clients`.`id` = 38[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.098018', '2020-11-12 01:01:38.098018')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [179]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 179 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:01:38.108175', '2020-11-12 01:01:38.108175')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 180 AND `companions`.`contact_id` = 179 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 180 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 179 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (180, 179, '2020-11-12 01:01:38.118372', '2020-11-12 01:01:38.118372')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 180 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 180[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 3.7ms | Allocations: 10774)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.126302', '2020-11-12 01:01:38.126302')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [181]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 181 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:01:38.135332', '2020-11-12 01:01:38.135332')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 182 AND `companions`.`contact_id` = 181 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 182 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 181 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (182, 181, '2020-11-12 01:01:38.137970', '2020-11-12 01:01:38.137970')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 182 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 182[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 4541)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.143851', '2020-11-12 01:01:38.143851')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.145662', '2020-11-12 01:01:38.145662')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [183]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 184 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1636)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.156568', '2020-11-12 01:01:38.156568')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.158161', '2020-11-12 01:01:38.158161')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 186\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 185 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 186 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 186[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 186[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 186[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 2713)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.172639', '2020-11-12 01:01:38.172639')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.174288', '2020-11-12 01:01:38.174288')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 187\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 188 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1383)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.184433', '2020-11-12 01:01:38.184433')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.186037', '2020-11-12 01:01:38.186037')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 190\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 189 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 190 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 190 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:01:38.194785' WHERE `users`.`id` = 190[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 190[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 190 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3255)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 190 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.200272', '2020-11-12 01:01:38.200272')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.201890', '2020-11-12 01:01:38.201890')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 191\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 192 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 191 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 191 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:01:38.210573' WHERE `users`.`id` = 191[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 191[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 191 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3203)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:01:38.215802', '2020-11-12 01:01:38.215802')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:01:38.217360', '2020-11-12 01:01:38.217360')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:01:38 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 193\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 194 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 193 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 194 AND `users`.`id` = 193 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2187)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:31.840574', '2020-11-12 01:02:31.840574')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 195 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:02:31.875732', '2020-11-12 01:02:31.875732')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 13441)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:31.881281', '2020-11-12 01:02:31.881281')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 196 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:02:31.890180', '2020-11-12 01:02:31.890180')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:31.894814', '2020-11-12 01:02:31.894814')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 197 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:02:31.906065', '2020-11-12 01:02:31.906065')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:31.910783', '2020-11-12 01:02:31.910783')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:02:31.912804', '2020-11-12 01:02:31.912804')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 42\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 198 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 42 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 42[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 42[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 4261)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:02:31.930608', '2020-11-12 01:02:31.930608')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:31.932243', '2020-11-12 01:02:31.932243')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 43\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 199 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:31.943109', '2020-11-12 01:02:31.943109')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:02:31.944925', '2020-11-12 01:02:31.944925')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 44\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 200 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 44 LIMIT 1[0m
  [1m[35m (13.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 44 LIMIT 1[0m
  [1m[36mClient Update (0.3ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:02:31.967101' WHERE `clients`.`id` = 44[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 14.0ms | Allocations: 2571)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 44 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:02:31.971847', '2020-11-12 01:02:31.971847')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:31.973656', '2020-11-12 01:02:31.973656')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 45\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 201 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 45 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 45 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:02:31.983659' WHERE `clients`.`id` = 45[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2502)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:02:31.987805', '2020-11-12 01:02:31.987805')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:31.989720', '2020-11-12 01:02:31.989720')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 46\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 202 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 46 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 46 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:02:31.999208' WHERE `clients`.`id` = 46[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 46 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.003830', '2020-11-12 01:02:32.003830')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [203]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 203 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:02:32.013433', '2020-11-12 01:02:32.013433')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 204 AND `companions`.`contact_id` = 203 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 204 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 203 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (204, 203, '2020-11-12 01:02:32.023401', '2020-11-12 01:02:32.023401')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 204 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 204[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 10773)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.031884', '2020-11-12 01:02:32.031884')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [205]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 205 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:02:32.040910', '2020-11-12 01:02:32.040910')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 206 AND `companions`.`contact_id` = 205 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 206 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 205 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (206, 205, '2020-11-12 01:02:32.043681', '2020-11-12 01:02:32.043681')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 206 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 206[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4540)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.049167', '2020-11-12 01:02:32.049167')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:32.050883', '2020-11-12 01:02:32.050883')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [207]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 208 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1635)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.061882', '2020-11-12 01:02:32.061882')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:32.063636', '2020-11-12 01:02:32.063636')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 210\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 209 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 210 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 210[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 210[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 210[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2713)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.078463', '2020-11-12 01:02:32.078463')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:32.080436', '2020-11-12 01:02:32.080436')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 211\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 212 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1383)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.091766', '2020-11-12 01:02:32.091766')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:32.093404', '2020-11-12 01:02:32.093404')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 214\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 213 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 214 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 214 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:02:32.102523' WHERE `users`.`id` = 214[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 214[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 214 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3255)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 214 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:32.107898', '2020-11-12 01:02:32.107898')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.109507', '2020-11-12 01:02:32.109507')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 215\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 216 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 215 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 215 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:02:32.118687' WHERE `users`.`id` = 215[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 215[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 215 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3203)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:02:32.123700', '2020-11-12 01:02:32.123700')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:02:32.125345', '2020-11-12 01:02:32.125345')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 217\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 218 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 217 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 218 AND `users`.`id` = 217 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2187)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.630831', '2020-11-12 01:25:42.630831')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 219 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:25:42.682786', '2020-11-12 01:25:42.682786')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 12017)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.689749', '2020-11-12 01:25:42.689749')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 220 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:25:42.699259', '2020-11-12 01:25:42.699259')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.704609', '2020-11-12 01:25:42.704609')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 221 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:25:42.718861', '2020-11-12 01:25:42.718861')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.723774', '2020-11-12 01:25:42.723774')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:25:42.725650', '2020-11-12 01:25:42.725650')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 50\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 222 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 50 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 50[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 50[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 4261)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:25:42.749465', '2020-11-12 01:25:42.749465')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.751481', '2020-11-12 01:25:42.751481')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 51\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 223 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.778091', '2020-11-12 01:25:42.778091')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:25:42.779995', '2020-11-12 01:25:42.779995')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 52\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 224 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 52 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 52 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:25:42.790074' WHERE `clients`.`id` = 52[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 52 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:25:42.794648', '2020-11-12 01:25:42.794648')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.796384', '2020-11-12 01:25:42.796384')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 53\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 225 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 53 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 53 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:25:42.805816' WHERE `clients`.`id` = 53[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:25:42.809749', '2020-11-12 01:25:42.809749')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.811488', '2020-11-12 01:25:42.811488')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 54\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 226 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 54 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 54 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:25:42.820871' WHERE `clients`.`id` = 54[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 54 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.825695', '2020-11-12 01:25:42.825695')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 227 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:25:42.843090', '2020-11-12 01:25:42.843090')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 7121)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.848019', '2020-11-12 01:25:42.848019')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 228 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:25:42.856715', '2020-11-12 01:25:42.856715')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2046)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.860822', '2020-11-12 01:25:42.860822')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 229 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1561)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.872289', '2020-11-12 01:25:42.872289')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:25:42.873622', '2020-11-12 01:25:42.873622')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 3\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 230 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 3[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 3[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2304)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:25:42.888006', '2020-11-12 01:25:42.888006')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.889978', '2020-11-12 01:25:42.889978')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 4\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 231 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.900337', '2020-11-12 01:25:42.900337')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:25:42.901555', '2020-11-12 01:25:42.901555')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 5\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 232 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.3ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:25:42.910508' WHERE `insurances`.`id` = 5[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2124)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:25:42.915404', '2020-11-12 01:25:42.915404')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.917396', '2020-11-12 01:25:42.917396')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 6\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 233 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1480)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.928504', '2020-11-12 01:25:42.928504')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [234]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 234 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:25:42.938723', '2020-11-12 01:25:42.938723')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 235 AND `companions`.`contact_id` = 234 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 235 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 234 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (235, 234, '2020-11-12 01:25:42.951134', '2020-11-12 01:25:42.951134')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 235 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 235[0m
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 10740)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.961817', '2020-11-12 01:25:42.961817')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [236]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 236 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:25:42.981980', '2020-11-12 01:25:42.981980')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 237 AND `companions`.`contact_id` = 236 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 237 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 236 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (237, 236, '2020-11-12 01:25:42.984928', '2020-11-12 01:25:42.984928')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 237 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 237[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4544)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:42.990533', '2020-11-12 01:25:42.990533')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:42.992373', '2020-11-12 01:25:42.992373')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:42 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [238]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 239 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1636)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:43.003952', '2020-11-12 01:25:43.003952')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:43.005759', '2020-11-12 01:25:43.005759')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 241\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 240 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 241 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 241[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 241[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 241[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2714)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:43.021003', '2020-11-12 01:25:43.021003')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:43.022657', '2020-11-12 01:25:43.022657')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 242\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 243 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1383)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:43.034080', '2020-11-12 01:25:43.034080')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:43.035879', '2020-11-12 01:25:43.035879')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 245\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 244 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 245 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 245 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:25:43.045274' WHERE `users`.`id` = 245[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 245[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 245 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3255)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 245 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:43.050716', '2020-11-12 01:25:43.050716')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:43.052664', '2020-11-12 01:25:43.052664')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 246\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 247 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 246 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 246 LIMIT 1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:25:43.062238' WHERE `users`.`id` = 246[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 246[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 246 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 3203)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:25:43.068801', '2020-11-12 01:25:43.068801')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:25:43.071060', '2020-11-12 01:25:43.071060')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:25:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 248\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 249 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 248 LIMIT 1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 249 AND `users`.`id` = 248 LIMIT 1[0m
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 1.5ms | Allocations: 2187)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.103017', '2020-11-12 01:26:39.103017')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 250 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:26:39.137648', '2020-11-12 01:26:39.137648')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 12017)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.143067', '2020-11-12 01:26:39.143067')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 251 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:26:39.152057', '2020-11-12 01:26:39.152057')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.156506', '2020-11-12 01:26:39.156506')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 252 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:26:39.167777', '2020-11-12 01:26:39.167777')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.172782', '2020-11-12 01:26:39.172782')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:26:39.174630', '2020-11-12 01:26:39.174630')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 58\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 253 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 58 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.3ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 58[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 58[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 4263)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:26:39.206859', '2020-11-12 01:26:39.206859')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.208697', '2020-11-12 01:26:39.208697')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 59\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 254 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.219732', '2020-11-12 01:26:39.219732')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:26:39.221538', '2020-11-12 01:26:39.221538')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 60\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 255 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 60 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 60 LIMIT 1[0m
  [1m[36mClient Update (0.3ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:26:39.231108' WHERE `clients`.`id` = 60[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 60 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:26:39.236022', '2020-11-12 01:26:39.236022')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.237779', '2020-11-12 01:26:39.237779')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 61\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 256 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 61 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 61 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:26:39.246979' WHERE `clients`.`id` = 61[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:26:39.250947', '2020-11-12 01:26:39.250947')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.252825', '2020-11-12 01:26:39.252825')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 62\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 257 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 62 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 62 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:26:39.262064' WHERE `clients`.`id` = 62[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 62 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.266589', '2020-11-12 01:26:39.266589')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 258 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:26:39.282032', '2020-11-12 01:26:39.282032')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 7121)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.286916', '2020-11-12 01:26:39.286916')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 259 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:26:39.295029', '2020-11-12 01:26:39.295029')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2046)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.299046', '2020-11-12 01:26:39.299046')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 260 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1561)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.309672', '2020-11-12 01:26:39.309672')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:26:39.310970', '2020-11-12 01:26:39.310970')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 9\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 261 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 9[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 9[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2301)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:26:39.324308', '2020-11-12 01:26:39.324308')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.326216', '2020-11-12 01:26:39.326216')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 10\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 262 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1385)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.336643', '2020-11-12 01:26:39.336643')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:26:39.337711', '2020-11-12 01:26:39.337711')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 11\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 263 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:26:39.346349' WHERE `insurances`.`id` = 11[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2124)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:26:39.350046', '2020-11-12 01:26:39.350046')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.352009', '2020-11-12 01:26:39.352009')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 12\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 264 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:26:39.360273' WHERE `insurances`.`id` = 12[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2095)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:26:39.363753', '2020-11-12 01:26:39.363753')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.365687', '2020-11-12 01:26:39.365687')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 13\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 265 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1481)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.376299', '2020-11-12 01:26:39.376299')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [266]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 266 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:26:39.386029', '2020-11-12 01:26:39.386029')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 267 AND `companions`.`contact_id` = 266 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 267 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 266 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (267, 266, '2020-11-12 01:26:39.407138', '2020-11-12 01:26:39.407138')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 267 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 267[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 10777)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.415195', '2020-11-12 01:26:39.415195')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [268]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 268 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:26:39.423963', '2020-11-12 01:26:39.423963')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 269 AND `companions`.`contact_id` = 268 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 269 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 268 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (269, 268, '2020-11-12 01:26:39.426620', '2020-11-12 01:26:39.426620')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 269 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 269[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 4541)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.431635', '2020-11-12 01:26:39.431635')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.433245', '2020-11-12 01:26:39.433245')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [270]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 271 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1636)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.443925', '2020-11-12 01:26:39.443925')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.445566', '2020-11-12 01:26:39.445566')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 273\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 272 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 273 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 273[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 273[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 273[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2713)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.460077', '2020-11-12 01:26:39.460077')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.461746', '2020-11-12 01:26:39.461746')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 274\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 275 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1383)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.472136', '2020-11-12 01:26:39.472136')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.473720', '2020-11-12 01:26:39.473720')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 277\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 276 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 277 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 277 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:26:39.483036' WHERE `users`.`id` = 277[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 277[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 277 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3255)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 277 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.488446', '2020-11-12 01:26:39.488446')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.490221', '2020-11-12 01:26:39.490221')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 278\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 279 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 278 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 278 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:26:39.499284' WHERE `users`.`id` = 278[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 278[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 278 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3203)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:26:39.504392', '2020-11-12 01:26:39.504392')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:26:39.505984', '2020-11-12 01:26:39.505984')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:26:39 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 280\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 281 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 280 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 281 AND `users`.`id` = 280 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2187)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.321653', '2020-11-12 01:53:43.321653')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 282 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:53:43.353934', '2020-11-12 01:53:43.353934')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 10034)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.360238', '2020-11-12 01:53:43.360238')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 283 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:53:43.368843', '2020-11-12 01:53:43.368843')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2451)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.373243', '2020-11-12 01:53:43.373243')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 284 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:53:43.384822', '2020-11-12 01:53:43.384822')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 3830)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.389559', '2020-11-12 01:53:43.389559')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:53:43.391400', '2020-11-12 01:53:43.391400')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 66\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 285 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 66 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.3ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 66[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 66[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4263)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:53:43.423578', '2020-11-12 01:53:43.423578')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.425460', '2020-11-12 01:53:43.425460')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 67\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 286 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.436682', '2020-11-12 01:53:43.436682')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:53:43.438469', '2020-11-12 01:53:43.438469')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 68\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 287 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 68 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 68 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:53:43.447878' WHERE `clients`.`id` = 68[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 68 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:53:43.452279', '2020-11-12 01:53:43.452279')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.454212', '2020-11-12 01:53:43.454212')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 69\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 288 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 69 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 69 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:53:43.463562' WHERE `clients`.`id` = 69[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:53:43.467604', '2020-11-12 01:53:43.467604')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.469381', '2020-11-12 01:53:43.469381')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 70\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 289 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 70 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 70 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:53:43.478547' WHERE `clients`.`id` = 70[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2531)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 70 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.483303', '2020-11-12 01:53:43.483303')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.3ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.492510', '2020-11-12 01:53:43.492510')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.495362', '2020-11-12 01:53:43.495362')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.498605', '2020-11-12 01:53:43.498605')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.500220', '2020-11-12 01:53:43.500220')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.503729', '2020-11-12 01:53:43.503729')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.510382', '2020-11-12 01:53:43.510382')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.513510', '2020-11-12 01:53:43.513510')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.516748', '2020-11-12 01:53:43.516748')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.518413', '2020-11-12 01:53:43.518413')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.521503', '2020-11-12 01:53:43.521503')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.524659', '2020-11-12 01:53:43.524659')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.527731', '2020-11-12 01:53:43.527731')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 299 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:53:43.537082', '2020-11-12 01:53:43.537082')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2071)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.542186', '2020-11-12 01:53:43.542186')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 300 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:53:43.550242', '2020-11-12 01:53:43.550242')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2046)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.554193', '2020-11-12 01:53:43.554193')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 301 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1561)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.564950', '2020-11-12 01:53:43.564950')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.566103', '2020-11-12 01:53:43.566103')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 19\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 302 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 19[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 19[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2301)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.579815', '2020-11-12 01:53:43.579815')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.581911', '2020-11-12 01:53:43.581911')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 20\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 303 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1385)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.603932', '2020-11-12 01:53:43.603932')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.605153', '2020-11-12 01:53:43.605153')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 21\n    }\n  ) {\n   id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 304 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2048)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.634069', '2020-11-12 01:53:43.634069')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.636546', '2020-11-12 01:53:43.636546')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 22\n    }\n  ) {\n   id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 305 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1657)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:53:43.647959', '2020-11-12 01:53:43.647959')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.650138', '2020-11-12 01:53:43.650138')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 23\n    }\n  ) {\n   id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 306 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1641)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.661601', '2020-11-12 01:53:43.661601')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [307]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 307 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:53:43.671465', '2020-11-12 01:53:43.671465')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 308 AND `companions`.`contact_id` = 307 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 308 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 307 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (308, 307, '2020-11-12 01:53:43.682146', '2020-11-12 01:53:43.682146')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 308 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 308[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 10857)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.690593', '2020-11-12 01:53:43.690593')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [309]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 309 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:53:43.703535', '2020-11-12 01:53:43.703535')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 310 AND `companions`.`contact_id` = 309 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 310 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 309 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (310, 309, '2020-11-12 01:53:43.707761', '2020-11-12 01:53:43.707761')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 310 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 310[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4542)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.717188', '2020-11-12 01:53:43.717188')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.719669', '2020-11-12 01:53:43.719669')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [311]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 312 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1637)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.737121', '2020-11-12 01:53:43.737121')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.740422', '2020-11-12 01:53:43.740422')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 314\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 313 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 314 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 314[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 314[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 314[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2714)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.761620', '2020-11-12 01:53:43.761620')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.763617', '2020-11-12 01:53:43.763617')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 315\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 316 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1384)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.778962', '2020-11-12 01:53:43.778962')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.781664', '2020-11-12 01:53:43.781664')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 318\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 317 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 318 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 318 LIMIT 1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:53:43.795676' WHERE `users`.`id` = 318[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 318[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 318 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3258)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 318 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.805294', '2020-11-12 01:53:43.805294')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.808006', '2020-11-12 01:53:43.808006')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 319\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 320 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 319 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 319 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:53:43.822993' WHERE `users`.`id` = 319[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 319[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 319 LIMIT 1[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 3206)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:53:43.843902', '2020-11-12 01:53:43.843902')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:53:43.845720', '2020-11-12 01:53:43.845720')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:53:43 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 321\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 322 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 321 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 322 AND `users`.`id` = 321 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 2189)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:22.817711', '2020-11-12 01:55:22.817711')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 323 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:55:22.848862', '2020-11-12 01:55:22.848862')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 10034)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:22.854217', '2020-11-12 01:55:22.854217')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 324 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:55:22.863278', '2020-11-12 01:55:22.863278')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:22.868002', '2020-11-12 01:55:22.868002')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 325 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:55:22.879989', '2020-11-12 01:55:22.879989')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 3830)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:22.885355', '2020-11-12 01:55:22.885355')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:22.887340', '2020-11-12 01:55:22.887340')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 74\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 326 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 74 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 74[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 74[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4261)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:22.920664', '2020-11-12 01:55:22.920664')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:22.922591', '2020-11-12 01:55:22.922591')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 75\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 327 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1392)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:22.934347', '2020-11-12 01:55:22.934347')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:22.936291', '2020-11-12 01:55:22.936291')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 76\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 328 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 76 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 76 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:55:22.946031' WHERE `clients`.`id` = 76[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 76 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:22.950578', '2020-11-12 01:55:22.950578')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:22.952455', '2020-11-12 01:55:22.952455')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 77\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 329 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 77 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 77 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:55:22.961798' WHERE `clients`.`id` = 77[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:22.965650', '2020-11-12 01:55:22.965650')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:22.967508', '2020-11-12 01:55:22.967508')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:22 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 78\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 330 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 78 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 78 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:55:22.976815' WHERE `clients`.`id` = 78[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 78 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:22.981307', '2020-11-12 01:55:22.981307')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.3ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:22.990568', '2020-11-12 01:55:22.990568')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:22.993397', '2020-11-12 01:55:22.993397')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:22.996932', '2020-11-12 01:55:22.996932')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:22.998566', '2020-11-12 01:55:22.998566')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.002249', '2020-11-12 01:55:23.002249')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.008821', '2020-11-12 01:55:23.008821')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:23.011225', '2020-11-12 01:55:23.011225')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.012436', '2020-11-12 01:55:23.012436')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.015904', '2020-11-12 01:55:23.015904')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:23.017606', '2020-11-12 01:55:23.017606')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.018573', '2020-11-12 01:55:23.018573')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.021965', '2020-11-12 01:55:23.021965')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.023782', '2020-11-12 01:55:23.023782')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:23.025366', '2020-11-12 01:55:23.025366')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.026392', '2020-11-12 01:55:23.026392')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.029849', '2020-11-12 01:55:23.029849')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:23.031674', '2020-11-12 01:55:23.031674')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.032649', '2020-11-12 01:55:23.032649')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.036497', '2020-11-12 01:55:23.036497')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:55:23.038286', '2020-11-12 01:55:23.038286')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.039332', '2020-11-12 01:55:23.039332')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.042718', '2020-11-12 01:55:23.042718')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 340 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:55:23.051562', '2020-11-12 01:55:23.051562')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2071)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.056509', '2020-11-12 01:55:23.056509')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 341 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:55:23.064960', '2020-11-12 01:55:23.064960')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2046)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.069124', '2020-11-12 01:55:23.069124')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 342 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1561)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.080147', '2020-11-12 01:55:23.080147')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.081294', '2020-11-12 01:55:23.081294')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 34\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 343 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (11.5ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 34[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 34[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 12.4ms | Allocations: 2304)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.106948', '2020-11-12 01:55:23.106948')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.109047', '2020-11-12 01:55:23.109047')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 35\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 344 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1385)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.120373', '2020-11-12 01:55:23.120373')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.121577', '2020-11-12 01:55:23.121577')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 36\n    }\n  ) {\n   id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 345 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 2048)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.141215', '2020-11-12 01:55:23.141215')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.143712', '2020-11-12 01:55:23.143712')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 37\n    }\n  ) {\n   id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 346 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1657)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:55:23.154932', '2020-11-12 01:55:23.154932')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.157127', '2020-11-12 01:55:23.157127')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 38\n    }\n  ) {\n   id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 347 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1641)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.168991', '2020-11-12 01:55:23.168991')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [348]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 348 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:55:23.179058', '2020-11-12 01:55:23.179058')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 349 AND `companions`.`contact_id` = 348 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 349 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 348 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (349, 348, '2020-11-12 01:55:23.190862', '2020-11-12 01:55:23.190862')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 349 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 349[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 4.1ms | Allocations: 10583)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.205628', '2020-11-12 01:55:23.205628')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [350]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 350 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:55:23.219328', '2020-11-12 01:55:23.219328')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 351 AND `companions`.`contact_id` = 350 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 351 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 350 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (351, 350, '2020-11-12 01:55:23.223652', '2020-11-12 01:55:23.223652')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 351 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 351[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 4542)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.232907', '2020-11-12 01:55:23.232907')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.235871', '2020-11-12 01:55:23.235871')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [352]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 353 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1637)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.252277', '2020-11-12 01:55:23.252277')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.254740', '2020-11-12 01:55:23.254740')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 355\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 354 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 355 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 355[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 355[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 355[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 2714)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.275961', '2020-11-12 01:55:23.275961')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.279282', '2020-11-12 01:55:23.279282')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 356\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 357 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1384)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.295461', '2020-11-12 01:55:23.295461')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.297963', '2020-11-12 01:55:23.297963')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 359\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 358 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 359 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 359 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:55:23.312198' WHERE `users`.`id` = 359[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 359[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 359 LIMIT 1[0m
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3260)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 359 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.334868', '2020-11-12 01:55:23.334868')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.336652', '2020-11-12 01:55:23.336652')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 360\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 361 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 360 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 360 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:55:23.346376' WHERE `users`.`id` = 360[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 360[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 360 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3204)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:55:23.351813', '2020-11-12 01:55:23.351813')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:55:23.353712', '2020-11-12 01:55:23.353712')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:55:23 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 362\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 363 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 362 LIMIT 1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 363 AND `users`.`id` = 362 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2189)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.353892', '2020-11-12 01:56:16.353892')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 364 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:56:16.384201', '2020-11-12 01:56:16.384201')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 10034)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.389528', '2020-11-12 01:56:16.389528')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 365 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:56:16.398202', '2020-11-12 01:56:16.398202')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.402585', '2020-11-12 01:56:16.402585')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 366 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:56:16.413784', '2020-11-12 01:56:16.413784')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.418565', '2020-11-12 01:56:16.418565')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.420385', '2020-11-12 01:56:16.420385')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 87\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 367 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 87 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 87[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 87[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 4261)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.451009', '2020-11-12 01:56:16.451009')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.452819', '2020-11-12 01:56:16.452819')[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 88\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 368 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1392)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.464046', '2020-11-12 01:56:16.464046')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.466609', '2020-11-12 01:56:16.466609')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 89\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 369 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 89 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 89 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:56:16.476083' WHERE `clients`.`id` = 89[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 89 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.480627', '2020-11-12 01:56:16.480627')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.482354', '2020-11-12 01:56:16.482354')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 90\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 370 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 90 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 90 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:56:16.491319' WHERE `clients`.`id` = 90[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.495193', '2020-11-12 01:56:16.495193')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.496974', '2020-11-12 01:56:16.496974')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 91\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 371 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 91 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 91 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:56:16.506166' WHERE `clients`.`id` = 91[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 91 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.510686', '2020-11-12 01:56:16.510686')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.519338', '2020-11-12 01:56:16.519338')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.522131', '2020-11-12 01:56:16.522131')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.525434', '2020-11-12 01:56:16.525434')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.526879', '2020-11-12 01:56:16.526879')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.530250', '2020-11-12 01:56:16.530250')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.536685', '2020-11-12 01:56:16.536685')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.539084', '2020-11-12 01:56:16.539084')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.540252', '2020-11-12 01:56:16.540252')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.543613', '2020-11-12 01:56:16.543613')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.545416', '2020-11-12 01:56:16.545416')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.546381', '2020-11-12 01:56:16.546381')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.549519', '2020-11-12 01:56:16.549519')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.551305', '2020-11-12 01:56:16.551305')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.552893', '2020-11-12 01:56:16.552893')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.553839', '2020-11-12 01:56:16.553839')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.556916', '2020-11-12 01:56:16.556916')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.558688', '2020-11-12 01:56:16.558688')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.559642', '2020-11-12 01:56:16.559642')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.562979', '2020-11-12 01:56:16.562979')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:56:16.564573', '2020-11-12 01:56:16.564573')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.565553', '2020-11-12 01:56:16.565553')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.568804', '2020-11-12 01:56:16.568804')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 381 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:56:16.577501', '2020-11-12 01:56:16.577501')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2071)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.582191', '2020-11-12 01:56:16.582191')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 382 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:56:16.589883', '2020-11-12 01:56:16.589883')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 2046)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.593793', '2020-11-12 01:56:16.593793')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 383 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1561)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.604818', '2020-11-12 01:56:16.604818')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.605908', '2020-11-12 01:56:16.605908')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 49\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 384 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 49 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 49[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 49[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2304)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.631453', '2020-11-12 01:56:16.631453')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.633453', '2020-11-12 01:56:16.633453')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 50\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 385 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1385)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.643957', '2020-11-12 01:56:16.643957')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.645138', '2020-11-12 01:56:16.645138')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 51\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 386 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 51 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:56:16.653566' WHERE `insurances`.`id` = 51[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2125)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 51 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.657272', '2020-11-12 01:56:16.657272')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.659254', '2020-11-12 01:56:16.659254')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 52\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 387 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 52 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:56:16.667696' WHERE `insurances`.`id` = 52[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2096)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:56:16.670947', '2020-11-12 01:56:16.670947')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.672929', '2020-11-12 01:56:16.672929')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 53\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 388 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1481)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.683770', '2020-11-12 01:56:16.683770')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [389]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 389 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:56:16.693200', '2020-11-12 01:56:16.693200')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 390 AND `companions`.`contact_id` = 389 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 390 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 389 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (390, 389, '2020-11-12 01:56:16.702474', '2020-11-12 01:56:16.702474')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 390 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 390[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 3.4ms | Allocations: 10463)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.712055', '2020-11-12 01:56:16.712055')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [391]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 391 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:56:16.726222', '2020-11-12 01:56:16.726222')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 392 AND `companions`.`contact_id` = 391 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 392 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 391 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (392, 391, '2020-11-12 01:56:16.730308', '2020-11-12 01:56:16.730308')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 392 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 392[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4541)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.740314', '2020-11-12 01:56:16.740314')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.743375', '2020-11-12 01:56:16.743375')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [393]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 394 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1636)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.759041', '2020-11-12 01:56:16.759041')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.762000', '2020-11-12 01:56:16.762000')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 396\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 395 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 396 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 396[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 396[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 396[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2711)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.782832', '2020-11-12 01:56:16.782832')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.785412', '2020-11-12 01:56:16.785412')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 397\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 398 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1383)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.801156', '2020-11-12 01:56:16.801156')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.803647', '2020-11-12 01:56:16.803647')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 400\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 399 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 400 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 400 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:56:16.817074' WHERE `users`.`id` = 400[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 400[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 400 LIMIT 1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3254)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 400 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.825789', '2020-11-12 01:56:16.825789')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.829247', '2020-11-12 01:56:16.829247')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 401\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 402 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 401 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 401 LIMIT 1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:56:16.854072' WHERE `users`.`id` = 401[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 401[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 401 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 3204)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:56:16.859377', '2020-11-12 01:56:16.859377')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:56:16.861156', '2020-11-12 01:56:16.861156')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:56:16 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 403\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 404 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 403 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 404 AND `users`.`id` = 403 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2187)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.358951', '2020-11-12 01:57:46.358951')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 405 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:57:46.388855', '2020-11-12 01:57:46.388855')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 10034)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.394224', '2020-11-12 01:57:46.394224')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 406 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:57:46.402717', '2020-11-12 01:57:46.402717')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2451)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.406959', '2020-11-12 01:57:46.406959')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 407 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:57:46.417786', '2020-11-12 01:57:46.417786')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.422329', '2020-11-12 01:57:46.422329')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.424108', '2020-11-12 01:57:46.424108')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 100\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 408 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 100 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 100[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 100[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 4260)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.454400', '2020-11-12 01:57:46.454400')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.456200', '2020-11-12 01:57:46.456200')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 101\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 409 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.467265', '2020-11-12 01:57:46.467265')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.469024', '2020-11-12 01:57:46.469024')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 102\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 410 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 102 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 102 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:57:46.478630' WHERE `clients`.`id` = 102[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2568)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 102 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.482868', '2020-11-12 01:57:46.482868')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.484500', '2020-11-12 01:57:46.484500')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 103\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 411 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 103 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 103 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:57:46.493630' WHERE `clients`.`id` = 103[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2501)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.497671', '2020-11-12 01:57:46.497671')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.499429', '2020-11-12 01:57:46.499429')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 104\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 412 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 104 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 104 LIMIT 1[0m
  [1m[36mClient Update (0.4ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:57:46.509046' WHERE `clients`.`id` = 104[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 104 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.514555', '2020-11-12 01:57:46.514555')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.523391', '2020-11-12 01:57:46.523391')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.525402', '2020-11-12 01:57:46.525402')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.527281', '2020-11-12 01:57:46.527281')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 54\n     clientId: 105\n     userId: 414\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 413 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 414 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 54 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 105 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (105, 414, 54, '2020-11-12 01:57:46.543411', '2020-11-12 01:57:46.543411')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 7890)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.547538', '2020-11-12 01:57:46.547538')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.549476', '2020-11-12 01:57:46.549476')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.551086', '2020-11-12 01:57:46.551086')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.552601', '2020-11-12 01:57:46.552601')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 55\n     clientId: 106\n     userId: 415\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 416 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 415 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 55 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 106 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (106, 415, 55, '2020-11-12 01:57:46.562355', '2020-11-12 01:57:46.562355')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 3095)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.574500', '2020-11-12 01:57:46.574500')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.576298', '2020-11-12 01:57:46.576298')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.578317', '2020-11-12 01:57:46.578317')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 56\n     clientId: 107\n     userId: 417\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 417 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 417 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 56 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 107 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (107, 417, 56, '2020-11-12 01:57:46.589053', '2020-11-12 01:57:46.589053')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 3171)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.594143', '2020-11-12 01:57:46.594143')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.596158', '2020-11-12 01:57:46.596158')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.597848', '2020-11-12 01:57:46.597848')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.598892', '2020-11-12 01:57:46.598892')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (108, 419, 57, '2020-11-12 01:57:46.600063', '2020-11-12 01:57:46.600063')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 4\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 418 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Destroy (0.2ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 4[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1807)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.613631', '2020-11-12 01:57:46.613631')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.615530', '2020-11-12 01:57:46.615530')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.616579', '2020-11-12 01:57:46.616579')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (109, 420, 58, '2020-11-12 01:57:46.628464', '2020-11-12 01:57:46.628464')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.637800', '2020-11-12 01:57:46.637800')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.639615', '2020-11-12 01:57:46.639615')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.641281', '2020-11-12 01:57:46.641281')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.642378', '2020-11-12 01:57:46.642378')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (110, 422, 59, '2020-11-12 01:57:46.643588', '2020-11-12 01:57:46.643588')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 01:57:46.644805', '2020-11-12 01:57:46.644805')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 6\n     insuranceId: 60\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 421 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 422 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 60 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 110 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 60, `contracts`.`updated_at` = '2020-11-12 01:57:46.655307' WHERE `contracts`.`id` = 6[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3189)
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 6 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 60 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.660510', '2020-11-12 01:57:46.660510')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.662232', '2020-11-12 01:57:46.662232')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.663236', '2020-11-12 01:57:46.663236')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (111, 423, 61, '2020-11-12 01:57:46.664354', '2020-11-12 01:57:46.664354')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 01:57:46.665496', '2020-11-12 01:57:46.665496')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.667282', '2020-11-12 01:57:46.667282')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 7\n     insuranceId: 62\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 424 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 423 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 62 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 111 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 62, `contracts`.`updated_at` = '2020-11-12 01:57:46.677383' WHERE `contracts`.`id` = 7[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 3175)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.683338', '2020-11-12 01:57:46.683338')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:57:46.685045', '2020-11-12 01:57:46.685045')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.686011', '2020-11-12 01:57:46.686011')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (112, 425, 63, '2020-11-12 01:57:46.687045', '2020-11-12 01:57:46.687045')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 01:57:46.688111', '2020-11-12 01:57:46.688111')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.693031', '2020-11-12 01:57:46.693031')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 426 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:57:46.701499', '2020-11-12 01:57:46.701499')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2064)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.706115', '2020-11-12 01:57:46.706115')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 427 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:57:46.716001', '2020-11-12 01:57:46.716001')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2047)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.722415', '2020-11-12 01:57:46.722415')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 428 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1562)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.739286', '2020-11-12 01:57:46.739286')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.741025', '2020-11-12 01:57:46.741025')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 67\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 429 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 67 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 67[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 67[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 1.0ms | Allocations: 2296)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.761122', '2020-11-12 01:57:46.761122')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.764439', '2020-11-12 01:57:46.764439')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 68\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 430 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1386)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.778938', '2020-11-12 01:57:46.778938')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.780743', '2020-11-12 01:57:46.780743')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 69\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 431 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 69 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:57:46.792843' WHERE `insurances`.`id` = 69[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2126)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 69 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.798154', '2020-11-12 01:57:46.798154')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.801606', '2020-11-12 01:57:46.801606')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 70\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 432 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 70 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:57:46.813543' WHERE `insurances`.`id` = 70[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2096)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:57:46.819467', '2020-11-12 01:57:46.819467')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.822051', '2020-11-12 01:57:46.822051')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 71\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 433 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1482)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.838907', '2020-11-12 01:57:46.838907')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [434]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 434 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:57:46.865657', '2020-11-12 01:57:46.865657')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 435 AND `companions`.`contact_id` = 434 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 435 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 434 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (435, 434, '2020-11-12 01:57:46.875810', '2020-11-12 01:57:46.875810')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 435 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 435[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 3.8ms | Allocations: 10560)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.883839', '2020-11-12 01:57:46.883839')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [436]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 436 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:57:46.893359', '2020-11-12 01:57:46.893359')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 437 AND `companions`.`contact_id` = 436 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 437 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 436 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (437, 436, '2020-11-12 01:57:46.896136', '2020-11-12 01:57:46.896136')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 437 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 437[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 4542)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.901722', '2020-11-12 01:57:46.901722')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.903346', '2020-11-12 01:57:46.903346')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [438]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 439 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1637)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.914168', '2020-11-12 01:57:46.914168')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.915808', '2020-11-12 01:57:46.915808')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 441\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 440 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 441 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 441[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 441[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 441[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2712)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.930304', '2020-11-12 01:57:46.930304')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.931956', '2020-11-12 01:57:46.931956')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 442\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 443 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.942140', '2020-11-12 01:57:46.942140')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.943918', '2020-11-12 01:57:46.943918')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 445\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 444 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 445 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 445 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:57:46.953057' WHERE `users`.`id` = 445[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 445[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 445 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3256)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 445 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.958494', '2020-11-12 01:57:46.958494')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.960236', '2020-11-12 01:57:46.960236')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 446\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 447 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 446 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 446 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:57:46.969292' WHERE `users`.`id` = 446[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 446[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 446 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3204)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:57:46.974208', '2020-11-12 01:57:46.974208')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:57:46.975920', '2020-11-12 01:57:46.975920')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:57:46 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 448\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 449 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 448 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 449 AND `users`.`id` = 448 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2189)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.074116', '2020-11-12 01:59:45.074116')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 450 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:59:45.103490', '2020-11-12 01:59:45.103490')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 10034)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.108991', '2020-11-12 01:59:45.108991')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 451 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:59:45.117780', '2020-11-12 01:59:45.117780')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.122342', '2020-11-12 01:59:45.122342')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 452 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 01:59:45.133619', '2020-11-12 01:59:45.133619')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.138252', '2020-11-12 01:59:45.138252')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.140247', '2020-11-12 01:59:45.140247')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 116\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 453 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 116 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 116[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 116[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 4263)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.171787', '2020-11-12 01:59:45.171787')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.174068', '2020-11-12 01:59:45.174068')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 117\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 454 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1391)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.186460', '2020-11-12 01:59:45.186460')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.188254', '2020-11-12 01:59:45.188254')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 118\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 455 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 118 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 118 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:59:45.197960' WHERE `clients`.`id` = 118[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 118 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.202235', '2020-11-12 01:59:45.202235')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.203995', '2020-11-12 01:59:45.203995')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 119\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 456 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 119 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 119 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:59:45.213298' WHERE `clients`.`id` = 119[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.217083', '2020-11-12 01:59:45.217083')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.218741', '2020-11-12 01:59:45.218741')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 120\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 457 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 120 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 120 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 01:59:45.227832' WHERE `clients`.`id` = 120[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 120 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.232173', '2020-11-12 01:59:45.232173')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.3ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.241158', '2020-11-12 01:59:45.241158')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.243422', '2020-11-12 01:59:45.243422')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.245096', '2020-11-12 01:59:45.245096')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 72\n     clientId: 121\n     userId: 459\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 458 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 459 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 72 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 121 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (121, 459, 72, '2020-11-12 01:59:45.260826', '2020-11-12 01:59:45.260826')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 7885)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.265012', '2020-11-12 01:59:45.265012')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.266984', '2020-11-12 01:59:45.266984')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.268609', '2020-11-12 01:59:45.268609')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.270134', '2020-11-12 01:59:45.270134')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 73\n     clientId: 122\n     userId: 460\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 461 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 460 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 73 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 122 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (122, 460, 73, '2020-11-12 01:59:45.280335', '2020-11-12 01:59:45.280335')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 3096)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.292653', '2020-11-12 01:59:45.292653')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.294236', '2020-11-12 01:59:45.294236')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.296163', '2020-11-12 01:59:45.296163')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 74\n     clientId: 123\n     userId: 462\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 462 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 462 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 74 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 123 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (123, 462, 74, '2020-11-12 01:59:45.307191', '2020-11-12 01:59:45.307191')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3172)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.312354', '2020-11-12 01:59:45.312354')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 01:59:45.314455', '2020-11-12 01:59:45.314455')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.316163', '2020-11-12 01:59:45.316163')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.317191', '2020-11-12 01:59:45.317191')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (124, 464, 75, '2020-11-12 01:59:45.318281', '2020-11-12 01:59:45.318281')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 12\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 463 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Destroy (0.2ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 12[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1807)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 01:59:45.343341', '2020-11-12 01:59:45.343341')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.345234', '2020-11-12 01:59:45.345234')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.346283', '2020-11-12 01:59:45.346283')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (125, 465, 76, '2020-11-12 01:59:45.347419', '2020-11-12 01:59:45.347419')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.349251', '2020-11-12 01:59:45.349251')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 13\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 466 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.360064', '2020-11-12 01:59:45.360064')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 01:59:45.361943', '2020-11-12 01:59:45.361943')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.363577', '2020-11-12 01:59:45.363577')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.364582', '2020-11-12 01:59:45.364582')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.3ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (126, 468, 77, '2020-11-12 01:59:45.365741', '2020-11-12 01:59:45.365741')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 01:59:45.367219', '2020-11-12 01:59:45.367219')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 14\n     insuranceId: 78\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 467 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 468 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 78 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 126 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 78, `contracts`.`updated_at` = '2020-11-12 01:59:45.378130' WHERE `contracts`.`id` = 14[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 3190)
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 14 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 78 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 01:59:45.383110', '2020-11-12 01:59:45.383110')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.384839', '2020-11-12 01:59:45.384839')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.385793', '2020-11-12 01:59:45.385793')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (127, 469, 79, '2020-11-12 01:59:45.386873', '2020-11-12 01:59:45.386873')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 01:59:45.387947', '2020-11-12 01:59:45.387947')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.389881', '2020-11-12 01:59:45.389881')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 15\n     insuranceId: 80\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 470 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 469 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 80 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 127 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 80, `contracts`.`updated_at` = '2020-11-12 01:59:45.400222' WHERE `contracts`.`id` = 15[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3175)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.402950', '2020-11-12 01:59:45.402950')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 01:59:45.406048', '2020-11-12 01:59:45.406048')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 01:59:45.407807', '2020-11-12 01:59:45.407807')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.408893', '2020-11-12 01:59:45.408893')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (128, 472, 81, '2020-11-12 01:59:45.409979', '2020-11-12 01:59:45.409979')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 01:59:45.411115', '2020-11-12 01:59:45.411115')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.412954', '2020-11-12 01:59:45.412954')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 16\n     insuranceId: 82\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 473 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 472 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 82 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 128 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 82, `contracts`.`updated_at` = '2020-11-12 01:59:45.423274' WHERE `contracts`.`id` = 16[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3203)
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 16 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 82 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.430066', '2020-11-12 01:59:45.430066')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 474 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:59:45.442790', '2020-11-12 01:59:45.442790')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2064)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.450041', '2020-11-12 01:59:45.450041')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 475 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 01:59:45.461622', '2020-11-12 01:59:45.461622')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2047)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.467675', '2020-11-12 01:59:45.467675')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 476 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1562)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.484343', '2020-11-12 01:59:45.484343')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.485484', '2020-11-12 01:59:45.485484')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 85\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 477 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 85 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 85[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 85[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2299)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.504635', '2020-11-12 01:59:45.504635')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.507250', '2020-11-12 01:59:45.507250')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 86\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 478 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1386)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.522613', '2020-11-12 01:59:45.522613')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.524488', '2020-11-12 01:59:45.524488')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 87\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 479 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 87 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:59:45.537444' WHERE `insurances`.`id` = 87[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 2126)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 87 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.542467', '2020-11-12 01:59:45.542467')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.545104', '2020-11-12 01:59:45.545104')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 88\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 480 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 88 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 01:59:45.556978' WHERE `insurances`.`id` = 88[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2097)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 01:59:45.577785', '2020-11-12 01:59:45.577785')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.580053', '2020-11-12 01:59:45.580053')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 89\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 481 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1482)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.591522', '2020-11-12 01:59:45.591522')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [482]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 482 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:59:45.601380', '2020-11-12 01:59:45.601380')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 483 AND `companions`.`contact_id` = 482 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 483 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 482 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (483, 482, '2020-11-12 01:59:45.611245', '2020-11-12 01:59:45.611245')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 483 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 483[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 10560)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.619178', '2020-11-12 01:59:45.619178')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [484]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 484 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 01:59:45.628141', '2020-11-12 01:59:45.628141')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 485 AND `companions`.`contact_id` = 484 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 485 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 484 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (485, 484, '2020-11-12 01:59:45.630790', '2020-11-12 01:59:45.630790')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 485 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 485[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 4542)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.636050', '2020-11-12 01:59:45.636050')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.637656', '2020-11-12 01:59:45.637656')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [486]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 487 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1637)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.648635', '2020-11-12 01:59:45.648635')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.650224', '2020-11-12 01:59:45.650224')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 489\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 488 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 489 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 489[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 489[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 489[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2712)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.664711', '2020-11-12 01:59:45.664711')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.666412', '2020-11-12 01:59:45.666412')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 490\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 491 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.677137', '2020-11-12 01:59:45.677137')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.678797', '2020-11-12 01:59:45.678797')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 493\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 492 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 493 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 493 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:59:45.687901' WHERE `users`.`id` = 493[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 493[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 493 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3256)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 493 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.693169', '2020-11-12 01:59:45.693169')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.694862', '2020-11-12 01:59:45.694862')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 494\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 495 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 494 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 494 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 01:59:45.703950' WHERE `users`.`id` = 494[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 494[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 494 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3204)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 01:59:45.709130', '2020-11-12 01:59:45.709130')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 01:59:45.710725', '2020-11-12 01:59:45.710725')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 03:59:45 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 496\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 497 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 496 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 497 AND `users`.`id` = 496 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2189)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:01:59.908622', '2020-11-12 02:01:59.908622')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:01:59 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 498 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 02:01:59.939043', '2020-11-12 02:01:59.939043')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 10034)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:01:59.944275', '2020-11-12 02:01:59.944275')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:01:59 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 499 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 02:01:59.953200', '2020-11-12 02:01:59.953200')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:01:59.957591', '2020-11-12 02:01:59.957591')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:01:59 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 500 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 02:01:59.968615', '2020-11-12 02:01:59.968615')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:01:59.973271', '2020-11-12 02:01:59.973271')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:01:59.975048', '2020-11-12 02:01:59.975048')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:01:59 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 132\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 501 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 132 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 132[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 132[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 4261)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.006432', '2020-11-12 02:02:00.006432')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.008261', '2020-11-12 02:02:00.008261')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 133\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 502 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1392)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.019168', '2020-11-12 02:02:00.019168')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.020858', '2020-11-12 02:02:00.020858')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 134\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 503 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 134 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 134 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 02:02:00.030030' WHERE `clients`.`id` = 134[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 134 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.034253', '2020-11-12 02:02:00.034253')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.035899', '2020-11-12 02:02:00.035899')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 135\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 504 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 135 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 135 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 02:02:00.045192' WHERE `clients`.`id` = 135[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2502)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.049221', '2020-11-12 02:02:00.049221')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.051100', '2020-11-12 02:02:00.051100')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 136\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 505 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 136 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 136 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 02:02:00.060441' WHERE `clients`.`id` = 136[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 136 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.064862', '2020-11-12 02:02:00.064862')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.073444', '2020-11-12 02:02:00.073444')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.075552', '2020-11-12 02:02:00.075552')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.077153', '2020-11-12 02:02:00.077153')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 90\n     clientId: 137\n     userId: 507\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 506 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 507 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 90 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 137 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (137, 507, 90, '2020-11-12 02:02:00.093122', '2020-11-12 02:02:00.093122')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 7890)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.097271', '2020-11-12 02:02:00.097271')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.099252', '2020-11-12 02:02:00.099252')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.100831', '2020-11-12 02:02:00.100831')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.102389', '2020-11-12 02:02:00.102389')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 91\n     clientId: 138\n     userId: 508\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 509 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 508 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 91 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 138 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (138, 508, 91, '2020-11-12 02:02:00.112458', '2020-11-12 02:02:00.112458')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 3095)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.116460', '2020-11-12 02:02:00.116460')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.117938', '2020-11-12 02:02:00.117938')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.119835', '2020-11-12 02:02:00.119835')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 92\n     clientId: 139\n     userId: 510\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 510 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 510 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 92 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 139 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (139, 510, 92, '2020-11-12 02:02:00.129707', '2020-11-12 02:02:00.129707')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 3122)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.134354', '2020-11-12 02:02:00.134354')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:00.136437', '2020-11-12 02:02:00.136437')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.138116', '2020-11-12 02:02:00.138116')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.139125', '2020-11-12 02:02:00.139125')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (140, 512, 93, '2020-11-12 02:02:00.140234', '2020-11-12 02:02:00.140234')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 20\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 511 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Destroy (0.2ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 20[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1804)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:00.153739', '2020-11-12 02:02:00.153739')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.155654', '2020-11-12 02:02:00.155654')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.156721', '2020-11-12 02:02:00.156721')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (141, 513, 94, '2020-11-12 02:02:00.157815', '2020-11-12 02:02:00.157815')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.159643', '2020-11-12 02:02:00.159643')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 21\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 514 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.2ms | Allocations: 1391)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.180885', '2020-11-12 02:02:00.180885')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:00.182701', '2020-11-12 02:02:00.182701')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.184356', '2020-11-12 02:02:00.184356')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.185384', '2020-11-12 02:02:00.185384')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (142, 516, 95, '2020-11-12 02:02:00.186604', '2020-11-12 02:02:00.186604')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 02:02:00.187925', '2020-11-12 02:02:00.187925')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 22\n     insuranceId: 96\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 515 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 516 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 96 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 142 LIMIT 1[0m
  [1m[36mContract Update (1.0ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 96, `contracts`.`updated_at` = '2020-11-12 02:02:00.198571' WHERE `contracts`.`id` = 22[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3186)
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 22 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 96 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:00.204559', '2020-11-12 02:02:00.204559')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.206325', '2020-11-12 02:02:00.206325')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.207394', '2020-11-12 02:02:00.207394')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (143, 517, 97, '2020-11-12 02:02:00.208485', '2020-11-12 02:02:00.208485')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 02:02:00.209600', '2020-11-12 02:02:00.209600')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.211441', '2020-11-12 02:02:00.211441')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 23\n     insuranceId: 98\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 518 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 517 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 98 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 143 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 98, `contracts`.`updated_at` = '2020-11-12 02:02:00.222431' WHERE `contracts`.`id` = 23[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 3175)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:00.234703', '2020-11-12 02:02:00.234703')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:00.236560', '2020-11-12 02:02:00.236560')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.237649', '2020-11-12 02:02:00.237649')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (144, 519, 99, '2020-11-12 02:02:00.238823', '2020-11-12 02:02:00.238823')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 02:02:00.240003', '2020-11-12 02:02:00.240003')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.241894', '2020-11-12 02:02:00.241894')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 24\n     insuranceId: 100\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 520 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 519 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 100 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 144 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 100, `contracts`.`updated_at` = '2020-11-12 02:02:00.252177' WHERE `contracts`.`id` = 24[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3258)
  [1m[36mContract Load (0.3ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 24 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 100 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.258930', '2020-11-12 02:02:00.258930')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 521 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 02:02:00.270203', '2020-11-12 02:02:00.270203')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 2065)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.278500', '2020-11-12 02:02:00.278500')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 522 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 02:02:00.289958', '2020-11-12 02:02:00.289958')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2047)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.296942', '2020-11-12 02:02:00.296942')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 523 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1562)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.313358', '2020-11-12 02:02:00.313358')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.315081', '2020-11-12 02:02:00.315081')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 103\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 524 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.4ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 103 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 103[0m
  [1m[36mInsurance Destroy (0.2ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 103[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2299)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.333993', '2020-11-12 02:02:00.333993')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.337012', '2020-11-12 02:02:00.337012')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 104\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 525 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1386)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.351483', '2020-11-12 02:02:00.351483')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.353193', '2020-11-12 02:02:00.353193')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 105\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 526 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 105 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 02:02:00.365091' WHERE `insurances`.`id` = 105[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2126)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 105 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.371153', '2020-11-12 02:02:00.371153')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.374405', '2020-11-12 02:02:00.374405')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 106\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 527 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 106 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 02:02:00.386452' WHERE `insurances`.`id` = 106[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2097)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:00.392088', '2020-11-12 02:02:00.392088')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.408984', '2020-11-12 02:02:00.408984')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 107\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 528 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1482)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.420795', '2020-11-12 02:02:00.420795')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [529]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 529 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 02:02:00.430760', '2020-11-12 02:02:00.430760')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 530 AND `companions`.`contact_id` = 529 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 530 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 529 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (530, 529, '2020-11-12 02:02:00.440623', '2020-11-12 02:02:00.440623')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 530 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 530[0m
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 10560)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.448612', '2020-11-12 02:02:00.448612')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [531]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 531 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 02:02:00.457850', '2020-11-12 02:02:00.457850')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 532 AND `companions`.`contact_id` = 531 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 532 LIMIT 1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 531 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (532, 531, '2020-11-12 02:02:00.460487', '2020-11-12 02:02:00.460487')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 532 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 532[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 4542)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.465700', '2020-11-12 02:02:00.465700')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.467292', '2020-11-12 02:02:00.467292')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [533]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 534 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1637)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.478068', '2020-11-12 02:02:00.478068')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.479685', '2020-11-12 02:02:00.479685')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 536\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 535 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 536 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 536[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 536[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 536[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2712)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.494191', '2020-11-12 02:02:00.494191')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.495775', '2020-11-12 02:02:00.495775')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 537\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 538 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1384)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.506424', '2020-11-12 02:02:00.506424')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.508136', '2020-11-12 02:02:00.508136')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 540\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 539 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 540 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 540 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 02:02:00.517245' WHERE `users`.`id` = 540[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 540[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 540 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3256)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 540 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.522846', '2020-11-12 02:02:00.522846')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.524467', '2020-11-12 02:02:00.524467')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 541\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 542 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 541 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 541 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 02:02:00.533457' WHERE `users`.`id` = 541[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 541[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 541 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3204)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:00.538426', '2020-11-12 02:02:00.538426')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:00.540097', '2020-11-12 02:02:00.540097')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:00 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 543\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 544 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 543 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 544 AND `users`.`id` = 543 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2189)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'schema_sha1'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.485324', '2020-11-12 02:02:31.485324')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 545 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 02:02:31.515782', '2020-11-12 02:02:31.515782')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 10034)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.521784', '2020-11-12 02:02:31.521784')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 546 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 02:02:31.530331', '2020-11-12 02:02:31.530331')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 2451)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.534766', '2020-11-12 02:02:31.534766')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createClient(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     surname: \"test surname\"\n    }\n  ) {\n    id\n    name\n    email\n    surname\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 547 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `surname`, `email`, `created_at`, `updated_at`) VALUES ('test name', 'test surname', 'email@email.email', '2020-11-12 02:02:31.545774', '2020-11-12 02:02:31.545774')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 3830)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.550368', '2020-11-12 02:02:31.550368')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.552218', '2020-11-12 02:02:31.552218')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 148\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 548 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 148 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 148[0m
  [1m[36mClient Destroy (0.2ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 148[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 4261)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `clients`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.582926', '2020-11-12 02:02:31.582926')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.584759', '2020-11-12 02:02:31.584759')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyClient(input: {\n     id: 149\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 549 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1392)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.596003', '2020-11-12 02:02:31.596003')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.597820', '2020-11-12 02:02:31.597820')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 150\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 550 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 150 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 150 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 02:02:31.606998' WHERE `clients`.`id` = 150[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2569)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 150 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.611356', '2020-11-12 02:02:31.611356')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.613034', '2020-11-12 02:02:31.613034')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 151\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 551 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 151 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 151 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 02:02:31.621930' WHERE `clients`.`id` = 151[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2502)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.625741', '2020-11-12 02:02:31.625741')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.627429', '2020-11-12 02:02:31.627429')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateClient(input: {\n     name: \"test name\" \n     id: 152\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 552 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 152 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' AND `clients`.`id` != 152 LIMIT 1[0m
  [1m[36mClient Update (0.2ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`name` = 'test name', `clients`.`updated_at` = '2020-11-12 02:02:31.636546' WHERE `clients`.`id` = 152[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 2532)
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 152 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.641122', '2020-11-12 02:02:31.641122')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.649902', '2020-11-12 02:02:31.649902')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.652005', '2020-11-12 02:02:31.652005')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.653693', '2020-11-12 02:02:31.653693')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 108\n     clientId: 153\n     userId: 554\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 553 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 554 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 108 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 153 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (153, 554, 108, '2020-11-12 02:02:31.669660', '2020-11-12 02:02:31.669660')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 7891)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.673774', '2020-11-12 02:02:31.673774')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.1ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.675702', '2020-11-12 02:02:31.675702')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.677296', '2020-11-12 02:02:31.677296')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.678838', '2020-11-12 02:02:31.678838')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 109\n     clientId: 154\n     userId: 555\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 556 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 555 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 109 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 154 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (154, 555, 109, '2020-11-12 02:02:31.688590', '2020-11-12 02:02:31.688590')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 3096)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.692538', '2020-11-12 02:02:31.692538')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.693947', '2020-11-12 02:02:31.693947')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.695831', '2020-11-12 02:02:31.695831')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createContract(input: {\n     insuranceId: 110\n     clientId: 155\n     userId: 557\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 557 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 557 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 110 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 155 LIMIT 1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (155, 557, 110, '2020-11-12 02:02:31.705551', '2020-11-12 02:02:31.705551')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 3123)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.710135', '2020-11-12 02:02:31.710135')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:31.712020', '2020-11-12 02:02:31.712020')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.713597', '2020-11-12 02:02:31.713597')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.714595', '2020-11-12 02:02:31.714595')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (156, 559, 111, '2020-11-12 02:02:31.715710', '2020-11-12 02:02:31.715710')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 28\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 558 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 28 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Destroy (0.2ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 28[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1804)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `contracts`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:31.729311', '2020-11-12 02:02:31.729311')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.731029', '2020-11-12 02:02:31.731029')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.732045', '2020-11-12 02:02:31.732045')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (157, 560, 112, '2020-11-12 02:02:31.733162', '2020-11-12 02:02:31.733162')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.734870', '2020-11-12 02:02:31.734870')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyContract(input: {\n     id: 29\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 561 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1389)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.756026', '2020-11-12 02:02:31.756026')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:31.757836', '2020-11-12 02:02:31.757836')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.759591', '2020-11-12 02:02:31.759591')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.760637', '2020-11-12 02:02:31.760637')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (158, 563, 113, '2020-11-12 02:02:31.761778', '2020-11-12 02:02:31.761778')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 02:02:31.762950', '2020-11-12 02:02:31.762950')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 30\n     insuranceId: 114\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 562 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 563 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 114 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 158 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 114, `contracts`.`updated_at` = '2020-11-12 02:02:31.773210' WHERE `contracts`.`id` = 30[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 3186)
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 30 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 114 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:31.778297', '2020-11-12 02:02:31.778297')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.780041', '2020-11-12 02:02:31.780041')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.781054', '2020-11-12 02:02:31.781054')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (159, 564, 115, '2020-11-12 02:02:31.782138', '2020-11-12 02:02:31.782138')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 02:02:31.783170', '2020-11-12 02:02:31.783170')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.785301', '2020-11-12 02:02:31.785301')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 31\n     insuranceId: 116\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 565 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 564 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 116 LIMIT 1[0m
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 159 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 116, `contracts`.`updated_at` = '2020-11-12 02:02:31.795962' WHERE `contracts`.`id` = 31[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3175)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_insurance_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_insurance_agent@email.email', 'agent', '2020-11-12 02:02:31.800181', '2020-11-12 02:02:31.800181')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client@email.email' LIMIT 1[0m
  [1m[36mClient Create (0.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('new_client', 'client@email.email', '2020-11-12 02:02:31.801825', '2020-11-12 02:02:31.801825')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.802852', '2020-11-12 02:02:31.802852')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Create (0.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (160, 566, 117, '2020-11-12 02:02:31.804058', '2020-11-12 02:02:31.804058')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.1ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'property', 1099.99, 'monthly', '2020-11-12 02:02:31.805172', '2020-11-12 02:02:31.805172')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.807005', '2020-11-12 02:02:31.807005')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateContract(input: {\n     id: 32\n     insuranceId: 118\n    }\n  ) {\n    id\n    user {\n      id\n    }\n    client {\n      id\n    }\n    insurance {\n      id\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 567 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 32 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 566 LIMIT 1[0m
  [1m[36mInsurance Load (0.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 118 LIMIT 1[0m
  [1m[36mClient Load (0.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 160 LIMIT 1[0m
  [1m[36mContract Update (0.2ms)[0m  [1m[33mUPDATE `contracts` SET `contracts`.`insurance_id` = 118, `contracts`.`updated_at` = '2020-11-12 02:02:31.817048' WHERE `contracts`.`id` = 32[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 3202)
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 32 LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 118 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.822220', '2020-11-12 02:02:31.822220')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 568 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 02:02:31.830480', '2020-11-12 02:02:31.830480')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2063)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.834971', '2020-11-12 02:02:31.834971')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 569 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Test', 'life', 980.0, 'annual', '2020-11-12 02:02:31.844712', '2020-11-12 02:02:31.844712')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2046)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.851158', '2020-11-12 02:02:31.851158')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createInsurance(input: { agencyName: \"Test\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 570 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1561)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.868277', '2020-11-12 02:02:31.868277')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.870109', '2020-11-12 02:02:31.870109')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 121\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 571 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 121 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 121[0m
  [1m[36mInsurance Destroy (0.3ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 121[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2291)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `insurances`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.890834', '2020-11-12 02:02:31.890834')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.894038', '2020-11-12 02:02:31.894038')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyInsurance(input: {\n     id: 122\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 572 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1385)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.909617', '2020-11-12 02:02:31.909617')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.910979', '2020-11-12 02:02:31.910979')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 123\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 573 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 123 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 02:02:31.923033' WHERE `insurances`.`id` = 123[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 2125)
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 123 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.928928', '2020-11-12 02:02:31.928928')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.931435', '2020-11-12 02:02:31.931435')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 124\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 574 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mInsurance Load (0.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 124 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Update (0.2ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`agency_name` = 'test name', `insurances`.`updated_at` = '2020-11-12 02:02:31.944418' WHERE `insurances`.`id` = 124[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.8ms | ActiveRecord: 0.9ms | Allocations: 2096)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mInsurance Create (0.2ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 199.99, 'monthly', '2020-11-12 02:02:31.949782', '2020-11-12 02:02:31.949782')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:31.952724', '2020-11-12 02:02:31.952724')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateInsurance(input: {\n     agencyName: \"test name\" \n     id: 125\n    }\n  ) {\n    id\n    agencyName\n    insuranceType\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 575 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 1481)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:31.968344', '2020-11-12 02:02:31.968344')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:31 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [576]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 576 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 02:02:31.997879', '2020-11-12 02:02:31.997879')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 577 AND `companions`.`contact_id` = 576 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 577 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 576 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (577, 576, '2020-11-12 02:02:32.008198', '2020-11-12 02:02:32.008198')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 577 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 577[0m
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 10468)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.016586', '2020-11-12 02:02:32.016586')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [578]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 578 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'email@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`name`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('test name', 'email@email.email', 'operator', '2020-11-12 02:02:32.026000', '2020-11-12 02:02:32.026000')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 579 AND `companions`.`contact_id` = 578 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 579 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 578 LIMIT 1[0m
  [1m[36mCompanion Create (0.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (579, 578, '2020-11-12 02:02:32.028757', '2020-11-12 02:02:32.028757')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 579 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 579[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 4541)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.034035', '2020-11-12 02:02:32.034035')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:32.035706', '2020-11-12 02:02:32.035706')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n     email: \"email@email.email\"\n     name: \"test name\" \n     userRole: \"operator\"\n     contacts: [580]\n    }\n  ) {\n    id\n    name\n    email\n    contacts {\n      email\n    }\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 581 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1636)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.046374', '2020-11-12 02:02:32.046374')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:32.048004', '2020-11-12 02:02:32.048004')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 583\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 582 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 583 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContract Load (0.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 583[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 583[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 583[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 2711)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.062086', '2020-11-12 02:02:32.062086')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:32.063641', '2020-11-12 02:02:32.063641')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  destroyUser(input: {\n     id: 584\n    }\n  ) {\n    id\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 585 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1383)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.073933', '2020-11-12 02:02:32.073933')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:32.075647', '2020-11-12 02:02:32.075647')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 587\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 586 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 587 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 587 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 02:02:32.084578' WHERE `users`.`id` = 587[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 587[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 587 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3255)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 587 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:32.089780', '2020-11-12 02:02:32.089780')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.091449', '2020-11-12 02:02:32.091449')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 588\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 589 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 588 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' AND `users`.`id` != 588 LIMIT 1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = 'test name', `users`.`updated_at` = '2020-11-12 02:02:32.100237' WHERE `users`.`id` = 588[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 588[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 588 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3203)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_operator@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_operator@email.email', 'operator', '2020-11-12 02:02:32.105243', '2020-11-12 02:02:32.105243')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'test_agent@email.email' LIMIT 1[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('test_agent@email.email', 'agent', '2020-11-12 02:02:32.106854', '2020-11-12 02:02:32.106854')[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/graphql" for 127.0.0.1 at 2020-11-12 04:02:32 +0200
Processing by GraphqlController#execute as HTML
  Parameters: {"query"=>"mutation {\n  updateUser(input: {\n     name: \"test name\" \n     id: 590\n    }\n  ) {\n    id\n    name\n    email\n  }\n}\n"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 591 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 590 LIMIT 1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 591 AND `users`.`id` = 590 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 2188)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
