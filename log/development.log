  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE DATABASE `OperatorAgentApi_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE `OperatorAgentApi_test` DEFAULT CHARACTER SET `utf8mb4`[0m
Started GET "/graphiql" for ::1 at 2020-11-10 21:25:09 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 53.1ms | Allocations: 19216)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.0ms | Allocations: 22348)


  
ActionView::Template::Error (graphiql/rails/application.css):
    3:   <head>
    4:     <title><%= GraphiQL::Rails.config.title || 'GraphiQL' %></title>
    5: 
    6:     <%= stylesheet_link_tag("graphiql/rails/application") %>
    7:     <%= javascript_include_tag("graphiql/rails/application") %>
    8:   </head>
    9:   <body>
  
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:372:in `raise_unless_precompiled_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:349:in `find_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:230:in `block in lookup_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:243:in `block in resolve_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `each'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `detect'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `resolve_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:229:in `lookup_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:171:in `block in stylesheet_link_tag'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:170:in `map'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:170:in `stylesheet_link_tag'
graphiql-rails (1.7.0) app/views/graphiql/rails/editors/show.html.erb:6
actionview (6.0.3.4) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.4) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.4) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.4) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.4) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.4) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.4) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.4) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.4) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.4) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.4) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.4) lib/action_view/rendering.rb:116:in `_render_template'
actionpack (6.0.3.4) lib/action_controller/metal/streaming.rb:218:in `_render_template'
actionview (6.0.3.4) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (6.0.3.4) lib/action_controller/metal/renderers.rb:142:in `render_to_body'
actionpack (6.0.3.4) lib/abstract_controller/rendering.rb:25:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (6.0.3.4) lib/active_support/core_ext/benchmark.rb:14:in `block in ms'
/Users/artemkuvychka/.rvm/rubies/ruby-2.6.5/lib/ruby/2.6.0/benchmark.rb:308:in `realtime'
activesupport (6.0.3.4) lib/active_support/core_ext/benchmark.rb:14:in `ms'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:34:in `cleanup_view_runtime'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:43:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/implicit_render.rb:35:in `default_render'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
railties (6.0.3.4) lib/rails/railtie.rb:190:in `public_send'
railties (6.0.3.4) lib/rails/railtie.rb:190:in `method_missing'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:19:in `block in <class:Constraints>'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/graphiql" for ::1 at 2020-11-10 21:26:09 +0200
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 28.2ms | Allocations: 5110)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.0ms | Allocations: 7373)


  
ActionView::Template::Error (graphiql/rails/application.css):
    3:   <head>
    4:     <title><%= GraphiQL::Rails.config.title || 'GraphiQL' %></title>
    5: 
    6:     <%= stylesheet_link_tag("graphiql/rails/application") %>
    7:     <%= javascript_include_tag("graphiql/rails/application") %>
    8:   </head>
    9:   <body>
  
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:372:in `raise_unless_precompiled_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:349:in `find_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:230:in `block in lookup_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:243:in `block in resolve_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `each'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `detect'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `resolve_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:229:in `lookup_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:171:in `block in stylesheet_link_tag'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:170:in `map'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:170:in `stylesheet_link_tag'
graphiql-rails (1.7.0) app/views/graphiql/rails/editors/show.html.erb:6
actionview (6.0.3.4) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.4) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.4) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.4) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.4) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.4) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.4) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.4) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.4) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.4) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.4) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.4) lib/action_view/rendering.rb:116:in `_render_template'
actionpack (6.0.3.4) lib/action_controller/metal/streaming.rb:218:in `_render_template'
actionview (6.0.3.4) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (6.0.3.4) lib/action_controller/metal/renderers.rb:142:in `render_to_body'
actionpack (6.0.3.4) lib/abstract_controller/rendering.rb:25:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (6.0.3.4) lib/active_support/core_ext/benchmark.rb:14:in `block in ms'
/Users/artemkuvychka/.rvm/rubies/ruby-2.6.5/lib/ruby/2.6.0/benchmark.rb:308:in `realtime'
activesupport (6.0.3.4) lib/active_support/core_ext/benchmark.rb:14:in `ms'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:34:in `cleanup_view_runtime'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:43:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/implicit_render.rb:35:in `default_render'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
railties (6.0.3.4) lib/rails/railtie.rb:190:in `public_send'
railties (6.0.3.4) lib/rails/railtie.rb:190:in `method_missing'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:19:in `block in <class:Constraints>'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-11-10 21:30:01 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 6.0ms | Allocations: 309)
Completed 200 OK in 13ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 1727)


Started GET "/graphiql" for ::1 at 2020-11-10 21:30:08 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 13.6ms | Allocations: 4989)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 6547)


  
ActionView::Template::Error (graphiql/rails/application.css):
    3:   <head>
    4:     <title><%= GraphiQL::Rails.config.title || 'GraphiQL' %></title>
    5: 
    6:     <%= stylesheet_link_tag("graphiql/rails/application") %>
    7:     <%= javascript_include_tag("graphiql/rails/application") %>
    8:   </head>
    9:   <body>
  
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:372:in `raise_unless_precompiled_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:349:in `find_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:230:in `block in lookup_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:243:in `block in resolve_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `each'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `detect'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:242:in `resolve_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:229:in `lookup_debug_asset'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:171:in `block in stylesheet_link_tag'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:170:in `map'
sprockets-rails (3.2.2) lib/sprockets/rails/helper.rb:170:in `stylesheet_link_tag'
graphiql-rails (1.7.0) app/views/graphiql/rails/editors/show.html.erb:6
actionview (6.0.3.4) lib/action_view/base.rb:274:in `_run'
actionview (6.0.3.4) lib/action_view/template.rb:185:in `block in render'
activesupport (6.0.3.4) lib/active_support/notifications.rb:182:in `instrument'
actionview (6.0.3.4) lib/action_view/template.rb:385:in `instrument_render_template'
actionview (6.0.3.4) lib/action_view/template.rb:183:in `render'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:58:in `block (2 levels) in render_template'
actionview (6.0.3.4) lib/action_view/renderer/abstract_renderer.rb:88:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionview (6.0.3.4) lib/action_view/renderer/abstract_renderer.rb:87:in `instrument'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:57:in `block in render_template'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:65:in `render_with_layout'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:56:in `render_template'
actionview (6.0.3.4) lib/action_view/renderer/template_renderer.rb:13:in `render'
actionview (6.0.3.4) lib/action_view/renderer/renderer.rb:61:in `render_template_to_object'
actionview (6.0.3.4) lib/action_view/renderer/renderer.rb:29:in `render_to_object'
actionview (6.0.3.4) lib/action_view/rendering.rb:117:in `block in _render_template'
actionview (6.0.3.4) lib/action_view/base.rb:304:in `in_rendering_context'
actionview (6.0.3.4) lib/action_view/rendering.rb:116:in `_render_template'
actionpack (6.0.3.4) lib/action_controller/metal/streaming.rb:218:in `_render_template'
actionview (6.0.3.4) lib/action_view/rendering.rb:103:in `render_to_body'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:52:in `render_to_body'
actionpack (6.0.3.4) lib/action_controller/metal/renderers.rb:142:in `render_to_body'
actionpack (6.0.3.4) lib/abstract_controller/rendering.rb:25:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:36:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
activesupport (6.0.3.4) lib/active_support/core_ext/benchmark.rb:14:in `block in ms'
/Users/artemkuvychka/.rvm/rubies/ruby-2.6.5/lib/ruby/2.6.0/benchmark.rb:308:in `realtime'
activesupport (6.0.3.4) lib/active_support/core_ext/benchmark.rb:14:in `ms'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:34:in `cleanup_view_runtime'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:43:in `render'
actionpack (6.0.3.4) lib/action_controller/metal/implicit_render.rb:35:in `default_render'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.3.4) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
railties (6.0.3.4) lib/rails/railtie.rb:190:in `public_send'
railties (6.0.3.4) lib/rails/railtie.rb:190:in `method_missing'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:19:in `block in <class:Constraints>'
actionpack (6.0.3.4) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/graphiql" for ::1 at 2020-11-10 21:31:10 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 543.4ms | Allocations: 74073)
Completed 200 OK in 544ms (Views: 543.8ms | ActiveRecord: 0.0ms | Allocations: 74456)


Started POST "/graphql" for ::1 at 2020-11-10 21:31:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Completed 200 OK in 37ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 31609)


Started POST "/graphql" for ::1 at 2020-11-10 21:31:18 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a \"{\" character. Lines that starts\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: \"value\") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#  Prettify Query:  Shift-Ctrl-P (or press the prettify button above)\n#\n#       Run Query:  Ctrl-Enter (or press the play button above)\n#\n#   Auto Complete:  Ctrl-Space (or just start typing)\n#\n\n", "variables"=>nil, "graphql"=>{"query"=>"# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a \"{\" character. Lines that starts\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: \"value\") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#  Prettify Query:  Shift-Ctrl-P (or press the prettify button above)\n#\n#       Run Query:  Ctrl-Enter (or press the play button above)\n#\n#   Auto Complete:  Ctrl-Space (or just start typing)\n#\n\n", "variables"=>nil}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1042)


Started GET "/graphiql" for ::1 at 2020-11-10 21:31:50 +0200
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 53.0ms | Allocations: 7091)
Completed 200 OK in 63ms (Views: 56.5ms | ActiveRecord: 0.0ms | Allocations: 9490)


Started POST "/graphql" for ::1 at 2020-11-10 21:31:50 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Completed 200 OK in 64ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 31259)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (5.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateUsers (20201110194501)
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `surname` varchar(255), `email` varchar(255), `user_role` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201110194501')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-11-10 20:01:41.340698', '2020-11-10 20:01:41.340698')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from irb_binding at (irb):4)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('a@a.a', 'operator', '2020-11-10 20:03:10.055245', '2020-11-10 20:03:10.055245')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from irb_binding at (irb):8)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'b@b.b' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('b@b.b', 'agent', '2020-11-10 20:04:55.929518', '2020-11-10 20:04:55.929518')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/graphql" for ::1 at 2020-11-10 22:08:52 +0200
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a \"{\" character. Lines that starts\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: \"value\") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#  Prettify Query:  Shift-Ctrl-P (or press the prettify button above)\n#\n#       Run Query:  Ctrl-Enter (or press the play button above)\n#\n#   Auto Complete:  Ctrl-Space (or just start typing)\n#\n\nquery {  \n      user_list {  \n        title  \n        description  \n      }  \n    }", "variables"=>nil, "graphql"=>{"query"=>"# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a \"{\" character. Lines that starts\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: \"value\") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#  Prettify Query:  Shift-Ctrl-P (or press the prettify button above)\n#\n#       Run Query:  Ctrl-Enter (or press the play button above)\n#\n#   Auto Complete:  Ctrl-Space (or just start typing)\n#\n\nquery {  \n      user_list {  \n        title  \n        description  \n      }  \n    }", "variables"=>nil}}
missing keyword argument null:
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:215:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/accepts_definition.rb:142:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `from_options'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/has_fields.rb:12:in `field'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:4:in `<class:UserType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:6:in `<class:QueryType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:3:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 2966)


Started GET "/graphiql" for ::1 at 2020-11-10 22:08:55 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 5.2ms | Allocations: 3327)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 3953)


Started POST "/graphql" for ::1 at 2020-11-10 22:08:55 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Unexpected parent_type: 
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:525:in `block in get_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1984:in `with_definition_error_check'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:518:in `get_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/base_visitor.rb:97:in `on_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:102:in `block in on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:123:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/definition_dependencies.rb:47:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/subscription_root_exists.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/mutation_root_exists.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variable_usages_are_allowed.rb:13:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variables_are_used_and_defined.rb:44:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variable_names_are_unique.rb:20:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fields_have_appropriate_selections.rb:18:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fields_will_merge.rb:24:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/operation_names_are_valid.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/unique_directives_per_location.rb:27:in `block (2 levels) in <module:UniqueDirectivesPerLocation>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:68:in `block in on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:92:in `push_root_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:68:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/base_visitor.rb:76:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:102:in `block in on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:123:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/definition_dependencies.rb:38:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variables_are_used_and_defined.rb:79:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragment_spreads_are_possible.rb:26:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragments_are_used.rb:6:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragments_are_finite.rb:6:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragment_names_are_unique.rb:17:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/operation_names_are_valid.rb:16:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/no_definitions_are_present.rb:34:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:68:in `visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/validator.rb:45:in `block in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/validator.rb:25:in `validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query/validation_pipeline.rb:75:in `ensure_has_validated'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query/validation_pipeline.rb:47:in `internal_representation'
/Users/artemkuvychka/.rvm/rubies/ruby-2.6.5/lib/ruby/2.6.0/forwardable.rb:230:in `internal_representation'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:235:in `irep_selection'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/instrumentation.rb:22:in `before_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:58:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:58:in `block in call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:57:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:57:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 27ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 9705)


Started GET "/graphiql" for ::1 at 2020-11-10 22:09:47 +0200
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 47.6ms | Allocations: 7090)
Completed 200 OK in 59ms (Views: 52.0ms | ActiveRecord: 0.0ms | Allocations: 9491)


Started POST "/graphql" for ::1 at 2020-11-10 22:09:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
missing keyword argument null:
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:215:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/accepts_definition.rb:142:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `from_options'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/has_fields.rb:12:in `field'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:4:in `<class:UserType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:6:in `<class:QueryType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:3:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 24ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2922)


Started GET "/graphiql" for ::1 at 2020-11-10 22:10:00 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 3.1ms | Allocations: 3324)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 3799)


Started POST "/graphql" for ::1 at 2020-11-10 22:10:00 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Unexpected parent_type: 
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:525:in `block in get_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1984:in `with_definition_error_check'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:518:in `get_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/base_visitor.rb:97:in `on_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:102:in `block in on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:123:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/definition_dependencies.rb:47:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/subscription_root_exists.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/mutation_root_exists.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variable_usages_are_allowed.rb:13:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variables_are_used_and_defined.rb:44:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variable_names_are_unique.rb:20:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fields_have_appropriate_selections.rb:18:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fields_will_merge.rb:24:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/operation_names_are_valid.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/unique_directives_per_location.rb:27:in `block (2 levels) in <module:UniqueDirectivesPerLocation>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:68:in `block in on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:92:in `push_root_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:68:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/base_visitor.rb:76:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:102:in `block in on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:123:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/definition_dependencies.rb:38:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variables_are_used_and_defined.rb:79:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragment_spreads_are_possible.rb:26:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragments_are_used.rb:6:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragments_are_finite.rb:6:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragment_names_are_unique.rb:17:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/operation_names_are_valid.rb:16:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/no_definitions_are_present.rb:34:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:68:in `visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/validator.rb:45:in `block in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/validator.rb:25:in `validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query/validation_pipeline.rb:75:in `ensure_has_validated'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query/validation_pipeline.rb:47:in `internal_representation'
/Users/artemkuvychka/.rvm/rubies/ruby-2.6.5/lib/ruby/2.6.0/forwardable.rb:230:in `internal_representation'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:235:in `irep_selection'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/instrumentation.rb:22:in `before_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:58:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:58:in `block in call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:57:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:57:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 42ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 9852)


Started GET "/graphiql" for ::1 at 2020-11-10 22:10:54 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 3.1ms | Allocations: 3325)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 4291)


Started POST "/graphql" for ::1 at 2020-11-10 22:10:55 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
missing keyword argument null:
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:215:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/accepts_definition.rb:142:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `from_options'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/has_fields.rb:12:in `field'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:4:in `<class:UserType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:6:in `<class:QueryType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:3:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 25ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2912)


Started GET "/graphiql" for ::1 at 2020-11-10 22:11:18 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 37.6ms | Allocations: 7090)
Completed 200 OK in 48ms (Views: 41.4ms | ActiveRecord: 0.0ms | Allocations: 9811)


Started POST "/graphql" for ::1 at 2020-11-10 22:11:18 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
missing keyword argument null:
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:215:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/accepts_definition.rb:142:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `from_options'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/has_fields.rb:12:in `field'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:4:in `<class:UserType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:6:in `<class:QueryType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:3:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 25ms (Views: 2.9ms | ActiveRecord: 0.0ms | Allocations: 2984)


Started GET "/graphiql" for ::1 at 2020-11-10 22:11:59 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 3.0ms | Allocations: 3327)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 4288)


Started POST "/graphql" for ::1 at 2020-11-10 22:11:59 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Completed 200 OK in 47ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 32960)


Started POST "/graphql" for ::1 at 2020-11-10 22:12:28 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {  \n      userList {  \n        email  \n        name  \n      }  \n    }", "variables"=>nil, "graphql"=>{"query"=>"query {  \n      userList {  \n        email  \n        name  \n      }  \n    }", "variables"=>nil}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:15:in `execute'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 7641)


Started POST "/graphql" for ::1 at 2020-11-10 22:13:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil, "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:15:in `execute'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2027)


Started POST "/graphql" for ::1 at 2020-11-10 22:19:06 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList(AUTHENTICATED_SCOPE:1) {\n    email\n    name\n  }\n}\n", "variables"=>nil, "graphql"=>{"query"=>"{\n  userList(AUTHENTICATED_SCOPE:1) {\n    email\n    name\n  }\n}\n", "variables"=>nil}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 953)


Started GET "/graphiql" for ::1 at 2020-11-10 22:22:50 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 6.1ms | Allocations: 3326)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 4291)


Started POST "/graphql" for ::1 at 2020-11-10 22:22:50 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
uninitialized constant Types::QueryType::UserList
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:6:in `<class:QueryType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:3:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 24ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 4250)


Started GET "/graphiql" for ::1 at 2020-11-10 22:23:25 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 2.8ms | Allocations: 3325)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 4290)


Started POST "/graphql" for ::1 at 2020-11-10 22:23:26 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Completed 200 OK in 43ms (Views: 4.9ms | ActiveRecord: 0.0ms | Allocations: 32745)


Started POST "/graphql" for ::1 at 2020-11-10 22:23:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil, "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil}}
undefined method `all' for Types::User:Module
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:8:in `user_list'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:692:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:692:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:735:in `block in with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:754:in `block (2 levels) in run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:757:in `run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:754:in `block in run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field_extension.rb:50:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:752:in `run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:732:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:15:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 20ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 3136)


Started GET "/graphiql" for ::1 at 2020-11-10 22:24:51 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 3.7ms | Allocations: 3326)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms | Allocations: 4281)


Started POST "/graphql" for ::1 at 2020-11-10 22:24:51 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
Completed 200 OK in 57ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 32737)


Started POST "/graphql" for ::1 at 2020-11-10 22:24:52 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil, "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:15:in `execute'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 7140)


Started POST "/graphiql" for ::1 at 2020-11-10 22:28:29 +0200
  
ActionController::RoutingError (No route matches [POST] "/graphiql"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/graphiql" for ::1 at 2020-11-10 22:29:45 +0200
  
ActionController::RoutingError (No route matches [POST] "/graphiql"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/graphiql" for ::1 at 2020-11-10 22:32:19 +0200
  
ActionController::RoutingError (No route matches [POST] "/graphiql"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/graphql" for ::1 at 2020-11-10 22:32:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 0ms (ActiveRecord: 0.0ms | Allocations: 385)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.3.4) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (6.0.3.4) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (6.0.3.4) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/graphql" for ::1 at 2020-11-10 22:33:42 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:15:in `execute'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 8673)


Started POST "/graphql" for ::1 at 2020-11-10 22:45:08 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
NameError (undefined local variable or method `fetch_user' for ApplicationController:Class):
  
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/graphql_controller.rb:1:in `<main>'
Started POST "/graphql" for ::1 at 2020-11-10 22:45:28 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = NULL LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.7ms | Allocations: 4569)


  
NoMethodError (undefined method `join' for {:id=>nil, :role=>nil}:Hash):
  
app/controllers/application_controller.rb:10:in `fetch_user'
Started POST "/graphql" for ::1 at 2020-11-10 22:46:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.7ms | Allocations: 2912)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'users.role' in 'where clause'):
  
app/controllers/application_controller.rb:10:in `fetch_user'
Started POST "/graphql" for ::1 at 2020-11-10 22:46:38 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 4089)


Started POST "/graphql" for ::1 at 2020-11-10 22:47:00 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 3982)


Started POST "/graphql" for ::1 at 2020-11-10 22:47:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 3982)


Started POST "/graphql" for ::1 at 2020-11-10 22:47:59 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
Completed 500 Internal Server Error in 181052ms (ActiveRecord: 0.0ms | Allocations: 181233)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `fetch_user'
app/controllers/application_controller.rb:9:in `fetch_user'
Started POST "/graphql" for ::1 at 2020-11-10 22:51:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 181ms (Views: 1.4ms | ActiveRecord: 10.2ms | Allocations: 1530941)


Started POST "/graphql" for ::1 at 2020-11-10 22:51:26 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 191ms (Views: 1.5ms | ActiveRecord: 5.4ms | Allocations: 1692951)


Started POST "/graphql" for ::1 at 2020-11-10 22:53:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 34599ms (ActiveRecord: 10.0ms | Allocations: 2284588)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `user_list'
app/graphql/types/query_type.rb:9:in `user_list'
app/controllers/graphql_controller.rb:15:in `execute'
Started POST "/graphql" for ::1 at 2020-11-10 22:55:04 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 165ms (ActiveRecord: 6.4ms | Allocations: 1508871)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `check_permissions'
app/controllers/graphql_controller.rb:54:in `check_permissions'
Started POST "/graphql" for ::1 at 2020-11-10 22:55:26 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 57348ms (ActiveRecord: 6.2ms | Allocations: 1520086)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `check_permissions'
app/controllers/graphql_controller.rb:54:in `check_permissions'
Started POST "/graphql" for ::1 at 2020-11-10 22:58:08 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"UserList {\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"UserList {\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 48775ms (ActiveRecord: 1.3ms | Allocations: 407675)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `check_permissions'
app/controllers/graphql_controller.rb:54:in `check_permissions'
Started POST "/graphql" for ::1 at 2020-11-10 22:59:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query UserList {\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"query UserList {\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 26644ms (ActiveRecord: 1.0ms | Allocations: 400392)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `check_permissions'
app/controllers/graphql_controller.rb:54:in `check_permissions'
Started POST "/graphql" for ::1 at 2020-11-10 23:02:30 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
Completed 500 Internal Server Error in 1622ms (ActiveRecord: 0.0ms | Allocations: 16783174)


  
NameError (undefined local variable or method `context' for #<GraphqlController:0x00007fb774411f58>
Did you mean?  content_type):
  
app/controllers/application_controller.rb:10:in `fetch_user'
Started POST "/graphql" for ::1 at 2020-11-10 23:08:52 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 32265ms (ActiveRecord: 6.4ms | Allocations: 1811509)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `check_permissions'
app/controllers/graphql_controller.rb:54:in `check_permissions'
Started POST "/graphql" for ::1 at 2020-11-10 23:10:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 2475ms (ActiveRecord: 10.8ms | Allocations: 24728603)


  
NoMethodError (undefined method `check_permissions' for #<GraphqlController:0x00007fb77aad8b38>):
  
activesupport (6.0.3.4) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.4) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.4) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.4) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.4) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.4) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.4) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.4) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.4) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.4) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.4) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.4) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.4) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.6) lib/puma/configuration.rb:228:in `call'
puma (4.3.6) lib/puma/server.rb:713:in `handle_request'
puma (4.3.6) lib/puma/server.rb:472:in `process_client'
puma (4.3.6) lib/puma/server.rb:328:in `block in run'
puma (4.3.6) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/graphql" for ::1 at 2020-11-10 23:10:17 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 38491ms (ActiveRecord: 11.3ms | Allocations: 2116390)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `user_list'
app/graphql/types/query_type.rb:9:in `user_list'
app/controllers/graphql_controller.rb:15:in `execute'
Started POST "/graphql" for ::1 at 2020-11-10 23:13:43 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 22457ms (ActiveRecord: 6.5ms | Allocations: 2117611)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `user_list'
app/graphql/types/query_type.rb:9:in `user_list'
app/controllers/graphql_controller.rb:16:in `execute'
Started POST "/graphql" for ::1 at 2020-11-10 23:23:33 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
wrong number of arguments (given 1, expected 2+)
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/cancancan-3.0.1/lib/cancan/ability.rb:74:in `can?'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:8:in `user_list'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:692:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:692:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:735:in `block in with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:754:in `block (2 levels) in run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:757:in `run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:754:in `block in run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field_extension.rb:50:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:752:in `run_extensions_before_resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:732:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 289ms (Views: 28.2ms | ActiveRecord: 1.2ms | Allocations: 2378327)


Started POST "/graphql" for ::1 at 2020-11-10 23:23:56 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 256ms (Views: 6.0ms | ActiveRecord: 11.2ms | Allocations: 2182746)


Started POST "/graphql" for ::1 at 2020-11-10 23:24:07 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 221ms (Views: 6.2ms | ActiveRecord: 6.4ms | Allocations: 2182712)


Started POST "/graphql" for ::1 at 2020-11-10 23:24:23 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 59623ms (ActiveRecord: 10.4ms | Allocations: 2389457)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `user_list'
app/graphql/types/query_type.rb:9:in `user_list'
app/controllers/graphql_controller.rb:17:in `execute'
Started POST "/graphql" for ::1 at 2020-11-10 23:25:30 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 31958ms (ActiveRecord: 10.2ms | Allocations: 2383914)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `user_list'
app/graphql/types/query_type.rb:9:in `user_list'
app/controllers/graphql_controller.rb:17:in `execute'
Started POST "/graphql" for ::1 at 2020-11-10 23:26:26 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 250ms (Views: 2.0ms | ActiveRecord: 6.5ms | Allocations: 2186310)


Started POST "/graphql" for ::1 at 2020-11-10 23:26:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 241ms (Views: 1.8ms | ActiveRecord: 5.8ms | Allocations: 2185949)


Started POST "/graphql" for ::1 at 2020-11-10 23:27:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 38563ms (ActiveRecord: 10.5ms | Allocations: 1787855)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `initialize'
app/models/ability.rb:10:in `initialize'
app/controllers/graphql_controller.rb:12:in `new'
app/controllers/graphql_controller.rb:12:in `execute'
Started POST "/graphql" for ::1 at 2020-11-10 23:28:07 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 305ms (Views: 2.7ms | ActiveRecord: 11.8ms | Allocations: 2672335)


Started POST "/graphql" for ::1 at 2020-11-10 23:28:32 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 298ms (Views: 7.5ms | ActiveRecord: 11.9ms | Allocations: 2671674)


Started POST "/graphql" for ::1 at 2020-11-10 23:28:51 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 84ms (Views: 6.3ms | ActiveRecord: 1.0ms | Allocations: 729203)


Started POST "/graphql" for ::1 at 2020-11-10 23:28:55 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 131ms (Views: 7.0ms | ActiveRecord: 2.1ms | Allocations: 1179518)


Started POST "/graphql" for ::1 at 2020-11-11 00:46:20 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 171ms (Views: 5.9ms | ActiveRecord: 5.8ms | Allocations: 1474816)


Started POST "/graphql" for ::1 at 2020-11-11 00:46:48 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 134ms (ActiveRecord: 13.6ms | Allocations: 1115411)


  
ActionView::MissingTemplate (Missing template graphql/execute, application/execute with {:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg, :gif, :bmp, :tiff, :svg, :mpeg, :mp3, :ogg, :m4a, :webm, :mp4, :otf, :ttf, :woff, :woff2, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip, :gzip], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/views"
  * "/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views"
  * "/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actiontext-6.0.3.4/app/views"
  * "/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionmailbox-6.0.3.4/app/views"
):
  
app/controllers/application_controller.rb:11:in `fetch_user'
Started POST "/graphql" for ::1 at 2020-11-11 00:47:14 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 103ms (ActiveRecord: 10.5ms | Allocations: 941837)


  
ActionView::MissingTemplate (Missing template graphql/execute, application/execute with {:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg, :gif, :bmp, :tiff, :svg, :mpeg, :mp3, :ogg, :m4a, :webm, :mp4, :otf, :ttf, :woff, :woff2, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip, :gzip], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/views"
  * "/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views"
  * "/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actiontext-6.0.3.4/app/views"
  * "/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionmailbox-6.0.3.4/app/views"
):
  
app/controllers/application_controller.rb:11:in `fetch_user'
Started POST "/graphql" for ::1 at 2020-11-11 00:47:56 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 200 OK in 110ms (Views: 1.8ms | ActiveRecord: 6.7ms | Allocations: 902787)


Started POST "/graphql" for ::1 at 2020-11-11 00:48:19 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 100ms (Views: 6.1ms | ActiveRecord: 15.0ms | Allocations: 897025)


Started POST "/graphql" for ::1 at 2020-11-11 00:49:50 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 109ms (Views: 1.8ms | ActiveRecord: 6.2ms | Allocations: 900119)


Started POST "/graphql" for ::1 at 2020-11-11 00:49:59 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 263ms (Views: 6.8ms | ActiveRecord: 2.4ms | Allocations: 2218152)


Started POST "/graphql" for ::1 at 2020-11-11 00:52:55 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 284ms (Views: 2.5ms | ActiveRecord: 6.7ms | Allocations: 2676268)


Started POST "/graphql" for ::1 at 2020-11-11 00:53:30 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 237ms (Views: 7.4ms | ActiveRecord: 6.3ms | Allocations: 2270648)


Started POST "/graphql" for ::1 at 2020-11-11 00:55:40 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}", "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 244ms (Views: 7.0ms | ActiveRecord: 6.0ms | Allocations: 2270902)


Started POST "/graphql" for ::1 at 2020-11-11 01:10:15 +0200
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
uninitialized constant Mutations::UserCreate
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:3:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 769ms (Views: 23.3ms | ActiveRecord: 1.3ms | Allocations: 6913766)


Started POST "/graphql" for ::1 at 2020-11-11 01:11:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Unexpected parent_type: 
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:525:in `block in get_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1984:in `with_definition_error_check'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:518:in `get_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/base_visitor.rb:97:in `on_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:102:in `block in on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:123:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/definition_dependencies.rb:47:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/subscription_root_exists.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/mutation_root_exists.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variable_usages_are_allowed.rb:13:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variables_are_used_and_defined.rb:44:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variable_names_are_unique.rb:20:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fields_have_appropriate_selections.rb:18:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fields_will_merge.rb:24:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/operation_names_are_valid.rb:12:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/unique_directives_per_location.rb:27:in `block (2 levels) in <module:UniqueDirectivesPerLocation>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:68:in `block in on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:92:in `push_root_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/internal_representation/rewrite.rb:68:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/base_visitor.rb:76:in `on_operation_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:102:in `block in on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:101:in `on_abstract_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:123:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/definition_dependencies.rb:38:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/variables_are_used_and_defined.rb:79:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragment_spreads_are_possible.rb:26:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragments_are_used.rb:6:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragments_are_finite.rb:6:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/fragment_names_are_unique.rb:17:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/operation_names_are_valid.rb:16:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/rules/no_definitions_are_present.rb:34:in `on_document'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:79:in `visit_node'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:174:in `on_node_with_modifications'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/language/visitor.rb:68:in `visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/validator.rb:45:in `block in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/static_validation/validator.rb:25:in `validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query/validation_pipeline.rb:75:in `ensure_has_validated'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query/validation_pipeline.rb:47:in `internal_representation'
/Users/artemkuvychka/.rvm/rubies/ruby-2.6.5/lib/ruby/2.6.0/forwardable.rb:230:in `internal_representation'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:235:in `irep_selection'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/instrumentation.rb:22:in `before_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:58:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:58:in `block in call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:57:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:57:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 493ms (Views: 28.2ms | ActiveRecord: 8.7ms | Allocations: 3875679)


Started POST "/graphql" for ::1 at 2020-11-11 01:12:13 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
uninitialized constant Mutations::UserMutations::BaseMutation
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:2:in `<module:UserMutations>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:3:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 811ms (Views: 20.5ms | ActiveRecord: 7.4ms | Allocations: 7608179)


Started POST "/graphql" for ::1 at 2020-11-11 01:12:42 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
expected file /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb to define constant Types::UserType, but didn't
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/loader/callbacks.rb:16:in `on_file_autoloaded'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:27:in `block in require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `tap'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:8:in `<class:UserCreate>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:2:in `<module:UserMutations>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:3:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 265ms (Views: 25.0ms | ActiveRecord: 11.0ms | Allocations: 2098143)


Started POST "/graphql" for ::1 at 2020-11-11 01:13:13 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 318ms (Views: 8.0ms | ActiveRecord: 10.6ms | Allocations: 2698814)


Started POST "/graphql" for ::1 at 2020-11-11 01:13:44 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 126ms (Views: 18.5ms | ActiveRecord: 1.3ms | Allocations: 1038407)


Started POST "/graphql" for ::1 at 2020-11-11 01:14:09 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\nemail\nname\nsurname\n}\n", "graphql"=>{"query"=>"createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\nemail\nname\nsurname\n}\n"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 81ms (Views: 2.5ms | ActiveRecord: 1.1ms | Allocations: 669007)


Started POST "/graphql" for ::1 at 2020-11-11 01:14:33 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 94ms (Views: 7.7ms | ActiveRecord: 1.0ms | Allocations: 808864)


Started GET "/graphiql" for ::1 at 2020-11-11 01:15:01 +0200
Processing by GraphiQL::Rails::EditorsController#show as HTML
  Parameters: {"graphql_path"=>"/graphql"}
  Rendering /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb
  Rendered /Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphiql-rails-1.7.0/app/views/graphiql/rails/editors/show.html.erb (Duration: 103.7ms | Allocations: 845202)
Completed 200 OK in 141ms (Views: 122.0ms | ActiveRecord: 0.0ms | Allocations: 1166959)


Started POST "/graphql" for ::1 at 2020-11-11 01:15:01 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "graphql"=>{"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 58ms (Views: 1.8ms | ActiveRecord: 1.1ms | Allocations: 456291)


Started POST "/graphql" for ::1 at 2020-11-11 01:15:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields(includeDeprecated: true) {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n", "graphql"=>{"query"=>"\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields(includeDeprecated: true) {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 51ms (Views: 5.6ms | ActiveRecord: 1.0ms | Allocations: 453388)


Started POST "/graphql" for ::1 at 2020-11-11 01:15:03 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil, "graphql"=>{"query"=>"{\n  userList {\n    email\n    name\n  }\n}\n", "variables"=>nil}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 56ms (Views: 1.9ms | ActiveRecord: 1.2ms | Allocations: 453380)


Started POST "/graphql" for ::1 at 2020-11-11 01:17:38 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation{\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 123ms (Views: 22.0ms | ActiveRecord: 1.1ms | Allocations: 1036690)


Started POST "/graphql" for ::1 at 2020-11-11 01:17:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 112ms (Views: 19.6ms | ActiveRecord: 1.0ms | Allocations: 1038409)


Started POST "/graphql" for ::1 at 2020-11-11 01:18:16 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\", surname:\"\") {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\", surname:\"\") {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 123ms (Views: 21.3ms | ActiveRecord: 1.0ms | Allocations: 1110165)


Started POST "/graphql" for ::1 at 2020-11-11 01:20:10 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(input: [\n        { email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\", surname:\"\"}\n      ]) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(input: [\n        { email: \"c@c.c\", name: \"newTestUser\", user_role: \"agent\", surname:\"\"}\n      ]) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 112ms (Views: 9.7ms | ActiveRecord: 1.0ms | Allocations: 1134318)


Started POST "/graphql" for ::1 at 2020-11-11 01:20:22 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(input: [\n        { email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"}\n      ]) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(input: [\n        { email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"}\n      ]) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 120ms (Views: 8.7ms | ActiveRecord: 5.8ms | Allocations: 1128161)


Started POST "/graphql" for ::1 at 2020-11-11 01:24:31 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(input: [\n        { email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"}\n      ]) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(input: [\n        { email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"}\n      ]) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Invalid input type for UserCreate.user: User. Must be scalar, enum, or input object, not OBJECT.
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:229:in `validate_input_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:227:in `validate_input_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:167:in `type='
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:184:in `type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1905:in `block in add_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1904:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1904:in `add_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1899:in `block (2 levels) in add_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1896:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1896:in `block in add_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1891:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1891:in `add_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1764:in `block in add_type_and_traverse'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1764:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1764:in `add_type_and_traverse'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1069:in `mutation'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 269ms (Views: 20.7ms | ActiveRecord: 6.0ms | Allocations: 2173970)


Started POST "/graphql" for ::1 at 2020-11-11 01:24:55 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      ) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      ) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Invalid input type for UserCreate.user: User. Must be scalar, enum, or input object, not OBJECT.
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:229:in `validate_input_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:227:in `validate_input_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:167:in `type='
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:184:in `type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/argument.rb:151:in `block in to_graphql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/base_type.rb:191:in `resolve_related_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/argument.rb:58:in `type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:143:in `block in <module:Rules>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:18:in `block (2 levels) in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:17:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:17:in `block in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:15:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:15:in `validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:97:in `block (2 levels) in assert_named_items_are_valid'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:96:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:96:in `block in assert_named_items_are_valid'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:18:in `block (2 levels) in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:17:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:17:in `block in validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:15:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/validation.rb:15:in `validate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:221:in `validate_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:142:in `visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:212:in `block in visit_field_on_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:210:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:210:in `visit_field_on_type'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:189:in `block in visit_fields'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:188:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:188:in `visit_fields'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:147:in `visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:128:in `block in visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:128:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:128:in `visit'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/traversal.rb:47:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1964:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1964:in `rebuild_artifacts'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1006:in `to_graphql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/accepts_definition.rb:120:in `to_graphql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:915:in `graphql_definition'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1654:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 200ms (Views: 27.0ms | ActiveRecord: 1.1ms | Allocations: 1671049)


Started POST "/graphql" for ::1 at 2020-11-11 01:25:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      ) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      ) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 310ms (Views: 24.4ms | ActiveRecord: 6.1ms | Allocations: 2740113)


Started POST "/graphql" for ::1 at 2020-11-11 01:26:21 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      }) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(input: {\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      }) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 342ms (Views: 2.8ms | ActiveRecord: 6.0ms | Allocations: 2947443)


Started POST "/graphql" for ::1 at 2020-11-11 01:26:55 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n  createUser(input: {\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      }) {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"mutation {\n  createUser(input: {\n        email: \"c@c.c\", name: \"newTestUser\", userRole: \"agent\", surname:\"\"\n      }) {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:13)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
  [1m[36mUser Exists? (5.9ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
  [1m[36mUser Create (5.4ms)[0m  [1m[32mINSERT INTO `users` (`name`, `surname`, `email`, `user_role`, `created_at`, `updated_at`) VALUES ('newTestUser', '', 'c@c.c', 'agent', '2020-11-10 23:26:55.950150', '2020-11-10 23:26:55.950150')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
Completed 200 OK in 439ms (Views: 7.0ms | ActiveRecord: 21.0ms | Allocations: 3873686)


Started POST "/graphql" for ::1 at 2020-11-11 01:27:36 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    userRole\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    userRole\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 199ms (Views: 8.4ms | ActiveRecord: 2.6ms | Allocations: 1560272)


Started POST "/graphql" for ::1 at 2020-11-11 01:27:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 173ms (Views: 8.2ms | ActiveRecord: 2.1ms | Allocations: 1413046)


Started POST "/graphql" for ::1 at 2020-11-11 09:55:36 +0200
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(id: 3, surname: \"newSurname\") {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(id: 3, surname: \"newSurname\") {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
undefined local variable or method `types' for Mutations::UserMutations::UserUpdate:Class
Did you mean?  type
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:3:in `<class:UserUpdate>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:2:in `<module:UserMutations>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:4:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 614ms (Views: 21.1ms | ActiveRecord: 1.1ms | Allocations: 5885348)


Started POST "/graphql" for ::1 at 2020-11-11 09:55:59 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(id: 3, surname: \"newSurname\") {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(id: 3, surname: \"newSurname\") {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
undefined method `ID' for #<Class:0x00007fb775b017e0>
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:3:in `<class:UserUpdate>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:2:in `<module:UserMutations>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:4:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 397ms (Views: 20.3ms | ActiveRecord: 7.4ms | Allocations: 3494544)


Started POST "/graphql" for ::1 at 2020-11-11 09:56:16 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(id: 3, surname: \"newSurname\") {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(id: 3, surname: \"newSurname\") {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 313ms (Views: 16.6ms | ActiveRecord: 6.4ms | Allocations: 2713665)


Started POST "/graphql" for ::1 at 2020-11-11 09:56:33 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (5.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` IS NULL AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `FalseClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `false`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 564ms (Views: 26.9ms | ActiveRecord: 9.8ms | Allocations: 4640920)


Started POST "/graphql" for ::1 at 2020-11-11 09:57:25 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 373ms (Views: 15.6ms | ActiveRecord: 10.0ms | Allocations: 3151741)


Started POST "/graphql" for ::1 at 2020-11-11 09:58:23 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 336ms (Views: 16.2ms | ActiveRecord: 5.9ms | Allocations: 3149259)


Started POST "/graphql" for ::1 at 2020-11-11 09:58:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (5.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE `users` SET `users`.`surname` = 'newSurname', `users`.`updated_at` = '2020-11-11 07:58:46.937744' WHERE `users`.`id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 526ms (Views: 28.3ms | ActiveRecord: 28.6ms | Allocations: 4558069)


Started POST "/graphql" for ::1 at 2020-11-11 10:00:37 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (6.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 518ms (Views: 26.5ms | ActiveRecord: 19.8ms | Allocations: 4278867)


Started POST "/graphql" for ::1 at 2020-11-11 10:02:31 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 519ms (Views: 29.7ms | ActiveRecord: 14.9ms | Allocations: 4278407)


Started POST "/graphql" for ::1 at 2020-11-11 10:04:30 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\", email:null }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\", email:null }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
  [1m[35m (5.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` IS NULL AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
Completed 200 OK in 465ms (Views: 7.7ms | ActiveRecord: 15.3ms | Allocations: 4318874)


Started POST "/graphql" for ::1 at 2020-11-11 10:04:55 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 69ms (Views: 1.0ms | ActiveRecord: 4.0ms | Allocations: 17308)


Started POST "/graphql" for ::1 at 2020-11-11 10:05:17 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 69ms (Views: 1.1ms | ActiveRecord: 3.4ms | Allocations: 15960)


Started POST "/graphql" for ::1 at 2020-11-11 10:25:20 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 9798)


Started POST "/graphql" for ::1 at 2020-11-11 10:25:38 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 40ms (Views: 1.0ms | ActiveRecord: 3.7ms | Allocations: 15972)


Started POST "/graphql" for ::1 at 2020-11-11 10:25:48 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 18ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 10727)


Started POST "/graphql" for ::1 at 2020-11-11 10:26:17 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 43ms (Views: 1.0ms | ActiveRecord: 3.5ms | Allocations: 16110)


Started POST "/graphql" for ::1 at 2020-11-11 10:29:23 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 23ms (Views: 1.3ms | ActiveRecord: 1.4ms | Allocations: 7638)


Started POST "/graphql" for ::1 at 2020-11-11 10:29:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\", email:\"\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\", email:\"\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY '' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 8501)


Started POST "/graphql" for ::1 at 2020-11-11 10:29:57 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\", email:null }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\", email:null }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` IS NULL AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 7089)


Started POST "/graphql" for ::1 at 2020-11-11 10:30:38 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
unknown keyword: required
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:206:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/accepts_definition.rb:142:in `initialize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:123:in `from_options'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/member/has_fields.rb:12:in `field'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:3:in `<class:UserType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/user_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:8:in `<class:UserCreate>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:2:in `<module:UserMutations>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:3:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 29ms (Views: 0.9ms | ActiveRecord: 2.8ms | Allocations: 9604)


Started POST "/graphql" for ::1 at 2020-11-11 10:30:48 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 58ms (Views: 1.0ms | ActiveRecord: 3.5ms | Allocations: 15943)


Started POST "/graphql" for ::1 at 2020-11-11 10:31:11 +0200
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 72ms (Views: 1.1ms | ActiveRecord: 3.8ms | Allocations: 17313)


Started POST "/graphql?AUTHENTICATED_SCOPE=operator&AUTHENTICATED_USERID=1" for ::1 at 2020-11-11 10:32:39 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", role: \"operator\" }) {\n        email\n        name\n        surname\n    }\n}", "AUTHENTICATED_SCOPE"=>"operator", "AUTHENTICATED_USERID"=>"1", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", role: \"operator\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL AND `users`.`user_role` IS NULL ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Filter chain halted as :fetch_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 1112)


Started POST "/graphql" for ::1 at 2020-11-11 10:33:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", role: \"operator\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", role: \"operator\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2075)


Started POST "/graphql" for ::1 at 2020-11-11 10:33:21 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:13)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('d@d.d', 'operator', '2020-11-11 08:33:21.254575', '2020-11-11 08:33:21.254575')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:13:in `resolve'
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 2.1ms | Allocations: 6193)


Started POST "/graphql" for ::1 at 2020-11-11 10:33:49 +0200
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 43ms (Views: 1.2ms | ActiveRecord: 4.4ms | Allocations: 17337)


Started POST "/graphql" for ::1 at 2020-11-11 10:34:28 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at (byebug):1)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `resolve'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ (byebug):1:in `resolve'
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `resolve'
Completed 500 Internal Server Error in 36170ms (ActiveRecord: 4.0ms | Allocations: 65447)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `resolve'
app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
app/controllers/graphql_controller.rb:17:in `execute'
Started POST "/graphql" for ::1 at 2020-11-11 10:35:19 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"newSurname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
Completed 200 OK in 304ms (Views: 1.9ms | ActiveRecord: 8.5ms | Allocations: 2905757)


Started POST "/graphql" for ::1 at 2020-11-11 10:35:50 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"surname\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"surname\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE `users` SET `users`.`surname` = 'surname', `users`.`updated_at` = '2020-11-11 08:35:51.903711' WHERE `users`.`id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
Completed 200 OK in 411ms (Views: 6.6ms | ActiveRecord: 21.4ms | Allocations: 4042492)


  [1m[35m (2.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateClients (20201111104008)
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE `clients` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `surname` varchar(255), `email` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111104008')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInsurances (20201111104312)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateInsurances (20201111104312)
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE `insurances` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `agency_name` varchar(255), `type` varchar(255), `total_cost` float(24), `period` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111104312')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateContracts (20201111104501)
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE `contracts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `client_id` int, `user_id` int, `insurance_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111104501')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateContacts (20201111105446)
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE `contacts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `user_id` bigint, `companion_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_contacts_on_user_id`  (`user_id`))[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111105446')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/graphql" for ::1 at 2020-11-11 13:24:23 +0200
  [1m[35m (5.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mContact Load (1.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mContact Load (1.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mContact Load (1.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mContact Load (1.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 679ms (Views: 9.0ms | ActiveRecord: 9.0ms | Allocations: 5938295)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[36mContact Create (0.3ms)[0m  [1m[32mINSERT INTO `contacts` (`user_id`, `companion_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 11:25:28.239819', '2020-11-11 11:25:28.239819')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/graphql" for ::1 at 2020-11-11 13:25:31 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mContact Load (1.2ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
          Failed to implement User.email, tried:

          - `Types::UserType#email`, which did not exist
          - `Contact#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `#<Contact:0x00007fdf4785cbf8>`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:358:in `block (2 levels) in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:355:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:358:in `block (2 levels) in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:355:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:17:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 439ms (Views: 29.5ms | ActiveRecord: 8.0ms | Allocations: 4007035)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateContacts (20201111105446)
  [1m[35m (7.3ms)[0m  [1m[35mDROP TABLE `contacts`[0m
  [1m[36mprimary::SchemaMigration Destroy (1.2ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201111105446'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateCompanions (20201111105446)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateCompanions (20201111105446)
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE `companions` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `user_id` bigint, `contact_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_companions_on_user_id`  (`user_id`))[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111105446')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (12.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[36mCompanion Create (0.3ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 11:30:53.180848', '2020-11-11 11:30:53.180848')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Started POST "/graphql" for ::1 at 2020-11-11 13:30:57 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:17:in `execute'
Completed 200 OK in 728ms (Views: 10.2ms | ActiveRecord: 13.2ms | Allocations: 6360794)


Started POST "/graphql" for ::1 at 2020-11-11 14:13:26 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`surname` = 'sure', `users`.`updated_at` = '2020-11-11 12:13:28.672929' WHERE `users`.`id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
Completed 200 OK in 590ms (Views: 6.7ms | ActiveRecord: 9.9ms | Allocations: 4996415)


Started POST "/graphql" for ::1 at 2020-11-11 14:13:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" }) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" }) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:18)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:18:in `resolve'
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 404ms (Views: 3.0ms | ActiveRecord: 15.2ms | Allocations: 3405694)


Started POST "/graphql" for ::1 at 2020-11-11 14:15:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{id:1}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{id:1}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 296ms (ActiveRecord: 11.3ms | Allocations: 2393317)


  
SyntaxError (/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:12: syntax error, unexpected tIDENTIFIER
...me: nil, surname: nil, contacts)
...                       ^~~~~~~~
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:30: syntax error, unexpected end, expecting end-of-input):
  
app/graphql/mutations/user_mutations/user_update.rb:12: syntax error, unexpected tIDENTIFIER
app/graphql/mutations/user_mutations/user_update.rb:30: syntax error, unexpected end, expecting end-of-input
app/graphql/mutations/user_mutations/user_update.rb:12: syntax error, unexpected tIDENTIFIER
app/graphql/mutations/user_mutations/user_update.rb:30: syntax error, unexpected end, expecting end-of-input
app/graphql/mutations/user_mutations/user_update.rb:12: syntax error, unexpected tIDENTIFIER
app/graphql/mutations/user_mutations/user_update.rb:30: syntax error, unexpected end, expecting end-of-input
app/graphql/types/mutation_type.rb:4:in `<class:MutationType>'
app/graphql/types/mutation_type.rb:2:in `<module:Types>'
app/graphql/types/mutation_type.rb:1:in `<main>'
app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
app/graphql/operator_agent_api_schema.rb:1:in `<main>'
app/controllers/graphql_controller.rb:18:in `execute'
Started POST "/graphql" for ::1 at 2020-11-11 14:16:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{id:1}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{id:1}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
uninitialized constant Mutations::UserMutations::UserUpdate::UserType
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:8:in `<class:UserUpdate>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:2:in `<module:UserMutations>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:4:in `<class:MutationType>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:2:in `<module:Types>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/mutation_type.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:2:in `<class:OperatorAgentApiSchema>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/operator_agent_api_schema.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 701ms (Views: 21.7ms | ActiveRecord: 10.2ms | Allocations: 7209287)


Started POST "/graphql" for ::1 at 2020-11-11 14:17:09 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{email: \"a@a.a\"}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{email: \"a@a.a\"}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 323ms (Views: 8.0ms | ActiveRecord: 1.1ms | Allocations: 3255089)


Started POST "/graphql" for ::1 at 2020-11-11 14:17:51 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{email: \"a@a.a\"}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [{email: \"a@a.a\"}]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 362ms (Views: 3.9ms | ActiveRecord: 6.1ms | Allocations: 3545524)


Started POST "/graphql" for ::1 at 2020-11-11 14:18:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 387ms (Views: 2.8ms | ActiveRecord: 12.8ms | Allocations: 3702301)


Started POST "/graphql" for ::1 at 2020-11-11 18:55:47 +0200
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
undefined method `id' for nil:NilClass
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:28:in `block in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:27:in `each'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:27:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 767ms (Views: 25.0ms | ActiveRecord: 8.0ms | Allocations: 6547671)


Started POST "/graphql" for ::1 at 2020-11-11 18:57:00 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (5.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
Completed 500 Internal Server Error in 171114ms (ActiveRecord: 25.5ms | Allocations: 5970746)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `resolve'
app/graphql/mutations/user_mutations/user_update.rb:28:in `resolve'
app/controllers/graphql_controller.rb:18:in `execute'
Started POST "/graphql" for ::1 at 2020-11-11 18:59:58 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
Completed 500 Internal Server Error in 3042ms (ActiveRecord: 17.8ms | Allocations: 5743656)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `resolve'
app/graphql/mutations/user_mutations/user_update.rb:28:in `resolve'
app/controllers/graphql_controller.rb:18:in `execute'
Started POST "/graphql" for ::1 at 2020-11-11 19:01:36 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (5.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Create (1.3ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-11-11 17:01:38.850251', '2020-11-11 17:01:38.850251')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
Completed 200 OK in 921ms (Views: 7.4ms | ActiveRecord: 35.6ms | Allocations: 8058853)


Started POST "/graphql" for ::1 at 2020-11-11 19:01:54 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 399ms (Views: 10.0ms | ActiveRecord: 11.5ms | Allocations: 3486915)


Started POST "/graphql" for ::1 at 2020-11-11 19:03:08 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (5.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-11-11 17:03:11.235113', '2020-11-11 17:03:11.235113')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
Completed 200 OK in 959ms (Views: 7.0ms | ActiveRecord: 32.0ms | Allocations: 8192134)


Started POST "/graphql" for ::1 at 2020-11-11 19:03:18 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 428ms (Views: 10.7ms | ActiveRecord: 12.0ms | Allocations: 3549895)


Started POST "/graphql" for ::1 at 2020-11-11 19:03:30 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    id\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    id\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 144ms (Views: 9.0ms | ActiveRecord: 1.1ms | Allocations: 1188455)


Started POST "/graphql" for ::1 at 2020-11-11 19:04:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    id\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    id\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 878ms (Views: 10.6ms | ActiveRecord: 24.0ms | Allocations: 6720039)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM `companions`[0m
  [1m[36mCompanion Load (0.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` ORDER BY `companions`.`id` ASC LIMIT 1 OFFSET 1[0m
Started POST "/graphql" for ::1 at 2020-11-11 19:06:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [1]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Create (1.1ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-11-11 17:06:13.408710', '2020-11-11 17:06:13.408710')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
Completed 200 OK in 863ms (Views: 6.9ms | ActiveRecord: 31.3ms | Allocations: 8206943)


Started POST "/graphql" for ::1 at 2020-11-11 19:06:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    email\n    name\n    surname\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 381ms (Views: 11.4ms | ActiveRecord: 11.6ms | Allocations: 3606588)


Started POST "/graphql" for ::1 at 2020-11-11 19:06:44 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, surname: \"sure\" contacts: [2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 3 AND `companions`.`contact_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Destroy (1.1ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 4[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Create (5.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (3, 2, '2020-11-11 17:06:46.743495', '2020-11-11 17:06:46.743495')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:31:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1090ms (Views: 7.5ms | ActiveRecord: 39.7ms | Allocations: 9885372)


Started POST "/graphql" for ::1 at 2020-11-11 19:07:05 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, surname: \"sure\" contacts: [2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, surname: \"sure\" contacts: [2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE `users` SET `users`.`surname` = 'sure', `users`.`updated_at` = '2020-11-11 17:07:06.006371' WHERE `users`.`id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Load (1.5ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` IN (2, 1, 1)[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Destroy (1.2ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Destroy (1.2ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Destroy (1.1ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 17:07:06.373088', '2020-11-11 17:07:06.373088')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:31:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 764ms (Views: 7.4ms | ActiveRecord: 26.3ms | Allocations: 6787841)


Started POST "/graphql" for ::1 at 2020-11-11 19:11:21 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, surname: \"sure\" contacts: [2,2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, surname: \"sure\" contacts: [2,2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Destroy (5.3ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 6[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
undefined method `find_or_create' for #<Class:0x00007fdf4680ca00>
Did you mean?  find_or_create_by
               find_or_create_by!
               first_or_create
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:28:in `each'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:28:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 3153ms (Views: 28.8ms | ActiveRecord: 26.2ms | Allocations: 29812529)


Started POST "/graphql" for ::1 at 2020-11-11 19:12:10 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, surname: \"sure\" contacts: [2,2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, surname: \"sure\" contacts: [2,2]}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (5.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 17:12:13.196113', '2020-11-11 17:12:13.196113')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `block in resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:31:in `resolve'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1284ms (Views: 7.1ms | ActiveRecord: 44.4ms | Allocations: 10562993)


Started POST "/graphql" for ::1 at 2020-11-11 19:14:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyUser(input: { id: 4}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyUser(input: { id: 4}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:10:in `resolve'
  [1m[35m (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mContract Load (1.3ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 4[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 4[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mUser Destroy (1.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 4[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 4[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 620ms (Views: 8.1ms | ActiveRecord: 21.0ms | Allocations: 5022727)


Started POST "/graphql" for ::1 at 2020-11-11 19:17:01 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:14)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('d@d.d', 'operator', '2020-11-11 17:17:03.234228', '2020-11-11 17:17:03.234228')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
undefined local variable or method `id' for #<Mutations::UserMutations::UserCreate:0x00007fdf420573e0>
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:16:in `each'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:16:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 679ms (Views: 27.2ms | ActiveRecord: 15.9ms | Allocations: 6634487)


Started POST "/graphql" for ::1 at 2020-11-11 19:17:37 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:14)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
Completed 200 OK in 284ms (Views: 3.1ms | ActiveRecord: 4.4ms | Allocations: 2819730)


Started POST "/graphql" for ::1 at 2020-11-11 19:17:57 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyUser(input: { id: 5}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyUser(input: { id: 5}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 5 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:10:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mContract Load (1.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 5[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mCompanion Load (5.0ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 5[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mUser Destroy (6.0ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 5[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 5[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 705ms (Views: 4.2ms | ActiveRecord: 36.0ms | Allocations: 6732266)


Started POST "/graphql" for ::1 at 2020-11-11 19:18:04 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:14)
  [1m[35m (5.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Exists? (5.8ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('d@d.d', 'operator', '2020-11-11 17:18:04.314629', '2020-11-11 17:18:04.314629')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:15)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:15:in `resolve'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' AND `users`.`id` != 6 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:15:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:15:in `resolve'
undefined local variable or method `id' for #<Mutations::UserMutations::UserCreate:0x00007fdf45514178>
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:16:in `each'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:16:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 557ms (Views: 29.1ms | ActiveRecord: 19.0ms | Allocations: 4885766)


Started POST "/graphql" for ::1 at 2020-11-11 19:18:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyUser(input: { id: 6}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyUser(input: { id: 6}) {\n        email\n        name\n        surname\n        contacts {\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 6 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:10:in `resolve'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mContract Load (1.5ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`user_id` = 6[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 6[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mUser Destroy (1.2ms)[0m  [1m[31mDELETE FROM `users` WHERE `users`.`id` = 6[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_destroy.rb:14:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 6[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 316ms (Views: 3.9ms | ActiveRecord: 15.1ms | Allocations: 2899576)


Started POST "/graphql" for ::1 at 2020-11-11 19:19:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createUser(input: { email: \"d@d.d\", userRole: \"operator\", contacts: [1,2] }) {\n        id\n        email\n        name\n        surname\n        contacts {\n            id\n            email\n        }\n    }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_create.rb:14)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO `users` (`email`, `user_role`, `created_at`, `updated_at`) VALUES ('d@d.d', 'operator', '2020-11-11 17:19:22.925036', '2020-11-11 17:19:22.925036')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:14:in `resolve'
  [1m[36mCompanion Load (1.1ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 7 AND `companions`.`contact_id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (7, 1, '2020-11-11 17:19:23.235698', '2020-11-11 17:19:23.235698')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mCompanion Load (5.4ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 7 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (7, 2, '2020-11-11 17:19:23.426597', '2020-11-11 17:19:23.426597')[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:17:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_create.rb:19:in `resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 7[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1193ms (Views: 8.1ms | ActiveRecord: 46.8ms | Allocations: 10926282)


Started POST "/graphql" for ::1 at 2020-11-11 19:36:29 +0200
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  clientList {\n    email\n    name\n    surname\n  }\n}", "graphql"=>{"query"=>"query {\n  clientList {\n    email\n    name\n    surname\n  }\n}"}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mClient Load (5.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 538ms (Views: 6.2ms | ActiveRecord: 12.9ms | Allocations: 4361784)


Started POST "/graphql" for ::1 at 2020-11-11 19:37:08 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createClient(input: { email: \"client1@a.a\", name: \"qwe\"}) {\n        id\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createClient(input: { email: \"client1@a.a\", name: \"qwe\"}) {\n        id\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 122ms (Views: 9.6ms | ActiveRecord: 1.3ms | Allocations: 1029236)


Started POST "/graphql" for ::1 at 2020-11-11 19:39:49 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createClient(input: { email: \"client1@a.a\", name: \"qwe\"}) {\n        id\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createClient(input: { email: \"client1@a.a\", name: \"qwe\"}) {\n        id\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in Client model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/client_mutations/client_create.rb:12)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
  [1m[36mClient Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client1@a.a' LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
  [1m[36mClient Create (1.3ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('qwe', 'client1@a.a', '2020-11-11 17:39:52.002984', '2020-11-11 17:39:52.002984')[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
Completed 200 OK in 793ms (Views: 7.1ms | ActiveRecord: 26.2ms | Allocations: 6287779)


Started POST "/graphql" for ::1 at 2020-11-11 19:40:08 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyClient(input: { id: 1}) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyClient(input: { id: 1}) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mClient Load (1.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_destroy.rb:10:in `resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/client_mutations/client_destroy.rb:14:in `resolve'
  [1m[36mContract Load (5.4ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`client_id` = 1[0m
  ↳ app/graphql/mutations/client_mutations/client_destroy.rb:14:in `resolve'
  [1m[36mClient Destroy (1.5ms)[0m  [1m[31mDELETE FROM `clients` WHERE `clients`.`id` = 1[0m
  ↳ app/graphql/mutations/client_mutations/client_destroy.rb:14:in `resolve'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/client_mutations/client_destroy.rb:14:in `resolve'
Completed 200 OK in 370ms (Views: 7.1ms | ActiveRecord: 14.4ms | Allocations: 2780709)


Started POST "/graphql" for ::1 at 2020-11-11 19:40:28 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createClient(input: { email: \"client1@a.a\", name: \"qwe\"}) {\n        id\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createClient(input: { email: \"client1@a.a\", name: \"qwe\"}) {\n        id\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in Client model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/client_mutations/client_create.rb:12)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
  [1m[36mClient Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client1@a.a' LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
  [1m[36mClient Create (1.2ms)[0m  [1m[32mINSERT INTO `clients` (`name`, `email`, `created_at`, `updated_at`) VALUES ('qwe', 'client1@a.a', '2020-11-11 17:40:28.679543', '2020-11-11 17:40:28.679543')[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/client_mutations/client_create.rb:12:in `resolve'
Completed 200 OK in 488ms (Views: 6.8ms | ActiveRecord: 6.2ms | Allocations: 3764386)


Started POST "/graphql" for ::1 at 2020-11-11 19:40:44 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyClient(input: { id: 2}) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyClient(input: { id: 2}) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 115ms (Views: 3.2ms | ActiveRecord: 1.3ms | Allocations: 1084036)


Started POST "/graphql" for ::1 at 2020-11-11 19:52:14 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 2, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 2, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:19)
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Exists? (5.7ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'b@b.b' AND `users`.`id` != 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`surname` = 'sure', `users`.`updated_at` = '2020-11-11 17:52:16.826018' WHERE `users`.`id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:19:in `resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:26:in `resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:31:in `resolve'
Completed 200 OK in 705ms (Views: 6.6ms | ActiveRecord: 17.3ms | Allocations: 6687274)


Started POST "/graphql" for ::1 at 2020-11-11 19:52:33 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateClient(input: { id: 2, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateClient(input: { id: 2, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mClient Load (1.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:13:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in Client model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/client_mutations/client_update.rb:17)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
  [1m[36mClient Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client1@a.a' AND `clients`.`id` != 2 LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
  [1m[36mClient Update (5.4ms)[0m  [1m[33mUPDATE `clients` SET `clients`.`surname` = 'sure', `clients`.`updated_at` = '2020-11-11 17:52:34.306730' WHERE `clients`.`id` = 2[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
          Failed to implement Client.email, tried:

          - `Types::ClientType#email`, which did not exist
          - `TrueClass#email`, which did not exist
          - Looking up hash key `:email` or `"email"` on `true`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 428ms (Views: 32.9ms | ActiveRecord: 17.2ms | Allocations: 3753320)


Started POST "/graphql" for ::1 at 2020-11-11 19:53:28 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateClient(input: { id: 2, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateClient(input: { id: 2, surname: \"sure\" }) {\n        email\n        name\n        surname\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mClient Load (1.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:13:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in Client model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/client_mutations/client_update.rb:17)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
  [1m[36mClient Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `clients` WHERE `clients`.`email` = BINARY 'client1@a.a' AND `clients`.`id` != 2 LIMIT 1[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/client_mutations/client_update.rb:17:in `resolve'
Completed 200 OK in 682ms (Views: 7.3ms | ActiveRecord: 19.0ms | Allocations: 6283514)


Started POST "/graphql" for ::1 at 2020-11-11 20:35:33 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", type: \"life\", totalCost:150.0, period: \"monthly\"}) {\n        name\n        agencyName\n        type\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", type: \"life\", totalCost:150.0, period: \"monthly\"}) {\n        name\n        agencyName\n        type\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
undefined local variable or method `validate_insurance_type' for #<Class:0x00007fdf45612390>
Did you mean?  validates_numericality_of
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/models/insurance.rb:9:in `<class:Insurance>'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/models/insurance.rb:1:in `<main>'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/bootsnap-1.5.1/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/zeitwerk-2.4.1/lib/zeitwerk/kernel.rb:26:in `require'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/insurance_mutations/insurance_create.rb:12:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 5928ms (Views: 32.7ms | ActiveRecord: 3.2ms | Allocations: 55918906)


Started POST "/graphql" for ::1 at 2020-11-11 20:36:28 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", type: \"life\", totalCost:150.0, period: \"monthly\"}) {\n        name\n        agencyName\n        type\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", type: \"life\", totalCost:150.0, period: \"monthly\"}) {\n        name\n        agencyName\n        type\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
The single-table inheritance mechanism failed to locate the subclass: 'life'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Insurance.inheritance_column to use another column for that information.
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/inheritance.rb:234:in `rescue in find_sti_class'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/inheritance.rb:227:in `find_sti_class'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/inheritance.rb:261:in `subclass_from_attributes'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/inheritance.rb:56:in `new'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/persistence.rb:54:in `create!'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 677ms (Views: 33.0ms | ActiveRecord: 16.6ms | Allocations: 5534621)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateCompanions (20201111105446)
  [1m[35m (7.0ms)[0m  [1m[35mDROP TABLE `companions`[0m
  [1m[36mprimary::SchemaMigration Destroy (1.0ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201111105446'[0m
Migrating to CreateContracts (20201111104501)
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE `contracts`[0m
  [1m[36mprimary::SchemaMigration Destroy (0.7ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201111104501'[0m
Migrating to CreateInsurances (20201111104312)
  [1m[35m (4.1ms)[0m  [1m[35mDROP TABLE `insurances`[0m
  [1m[36mprimary::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201111104312'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('8499387014939823240', 0)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateInsurances (20201111104312)
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE `insurances` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `agency_name` varchar(255), `insurance_type` varchar(255), `total_cost` float(24), `period` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111104312')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateContracts (20201111104501)
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE `contracts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `client_id` int, `user_id` int, `insurance_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111104501')[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCompanions (20201111105446)
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE `companions` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `user_id` bigint, `contact_id` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_companions_on_user_id`  (`user_id`))[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201111105446')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('8499387014939823240')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/graphql" for ::1 at 2020-11-11 20:39:06 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", insuranceType: \"life\", totalCost:150.0, period: \"monthly\"}) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", insuranceType: \"life\", totalCost:150.0, period: \"monthly\"}) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[36mInsurance Create (1.5ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('agency', 'life', 150.0, 'monthly', '2020-11-11 18:39:09.405619', '2020-11-11 18:39:09.405619')[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
Completed 200 OK in 720ms (Views: 7.2ms | ActiveRecord: 18.6ms | Allocations: 7059104)


Started POST "/graphql" for ::1 at 2020-11-11 20:48:57 +0200
  [1m[35m (1.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateInsurance(input: { id: 1, name: \"base\" }) {\n         name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateInsurance(input: { id: 1, name: \"base\" }) {\n         name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 472ms (Views: 18.4ms | ActiveRecord: 1.1ms | Allocations: 4544762)


Started POST "/graphql" for ::1 at 2020-11-11 20:49:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateInsurance(input: { id: 1, name: \"base\" }) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateInsurance(input: { id: 1, name: \"base\" }) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 128ms (Views: 19.3ms | ActiveRecord: 6.9ms | Allocations: 1267881)


Started POST "/graphql" for ::1 at 2020-11-11 20:50:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateInsurance(input: { id: 1, name: \"base\" }) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateInsurance(input: { id: 1, name: \"base\" }) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.4ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_update.rb:15:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_update.rb:19:in `resolve'
  [1m[36mInsurance Update (5.1ms)[0m  [1m[33mUPDATE `insurances` SET `insurances`.`name` = 'base', `insurances`.`updated_at` = '2020-11-11 18:50:22.403067' WHERE `insurances`.`id` = 1[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_update.rb:19:in `resolve'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_update.rb:19:in `resolve'
Completed 200 OK in 766ms (Views: 7.1ms | ActiveRecord: 24.2ms | Allocations: 7205950)


Started POST "/graphql" for ::1 at 2020-11-11 20:51:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyInsurance(input: { id: 1}) {\n        name\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyInsurance(input: { id: 1}) {\n        name\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 586ms (Views: 7.4ms | ActiveRecord: 10.6ms | Allocations: 5090528)


Started POST "/graphql" for ::1 at 2020-11-11 20:51:15 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyInsurance(input: { id: 1}) {\n        name\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyInsurance(input: { id: 1}) {\n        name\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_destroy.rb:10:in `resolve'
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_destroy.rb:14:in `resolve'
  [1m[36mContract Load (1.3ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`insurance_id` = 1[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_destroy.rb:14:in `resolve'
  [1m[36mInsurance Destroy (6.1ms)[0m  [1m[31mDELETE FROM `insurances` WHERE `insurances`.`id` = 1[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_destroy.rb:14:in `resolve'
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_destroy.rb:14:in `resolve'
Completed 200 OK in 419ms (Views: 6.7ms | ActiveRecord: 23.6ms | Allocations: 3509065)


Started POST "/graphql" for ::1 at 2020-11-11 20:51:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", insuranceType: \"life\", totalCost:150.0, period: \"monthly\", name: \"base\"}) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", insuranceType: \"life\", totalCost:150.0, period: \"monthly\", name: \"base\"}) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[36mInsurance Create (1.5ms)[0m  [1m[32mINSERT INTO `insurances` (`name`, `agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('base', 'agency', 'life', 150.0, 'monthly', '2020-11-11 18:51:46.311883', '2020-11-11 18:51:46.311883')[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
Completed 200 OK in 289ms (Views: 7.3ms | ActiveRecord: 6.5ms | Allocations: 2468357)


Started POST "/graphql" for ::1 at 2020-11-11 20:51:59 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", insuranceType: \"life\", totalCost:190.0, period: \"monthly\", name: \"premium\"}) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createInsurance(input: { agencyName: \"agency\", insuranceType: \"life\", totalCost:190.0, period: \"monthly\", name: \"premium\"}) {\n        name\n        agencyName\n        insuranceType\n        totalCost\n        period\n    }\n}"}}
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[36mInsurance Create (1.5ms)[0m  [1m[32mINSERT INTO `insurances` (`name`, `agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('premium', 'agency', 'life', 190.0, 'monthly', '2020-11-11 18:51:59.362535', '2020-11-11 18:51:59.362535')[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
Completed 200 OK in 294ms (Views: 7.4ms | ActiveRecord: 10.6ms | Allocations: 2424587)


  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mInsurance Load (0.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` ORDER BY `insurances`.`id` ASC LIMIT 1[0m
Started POST "/graphql" for ::1 at 2020-11-11 21:37:20 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createCoontract(input: { client_id: 2, insurance_id: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createCoontract(input: { client_id: 2, insurance_id: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 614ms (Views: 4.0ms | ActiveRecord: 1.2ms | Allocations: 4724865)


Started POST "/graphql" for ::1 at 2020-11-11 21:37:40 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { client_id: 2, insurance_id: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { client_id: 2, insurance_id: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 131ms (Views: 8.4ms | ActiveRecord: 1.6ms | Allocations: 1022377)


Started POST "/graphql" for ::1 at 2020-11-11 21:39:33 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { client_id: 2, insurance_id: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { client_id: 2, insurance_id: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 570ms (Views: 15.0ms | ActiveRecord: 10.8ms | Allocations: 5154615)


Started POST "/graphql" for ::1 at 2020-11-11 21:39:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:11:in `resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:11:in `resolve'
  [1m[36mInsurance Load (1.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:11:in `resolve'
  [1m[36mClient Load (1.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:11:in `resolve'
  [1m[36mContract Create (1.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (2, 1, 2, '2020-11-11 19:39:47.976884', '2020-11-11 19:39:47.976884')[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:11:in `resolve'
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:11:in `resolve'
Completed 200 OK in 818ms (Views: 3.3ms | ActiveRecord: 31.8ms | Allocations: 7451864)


Started POST "/graphql" for ::1 at 2020-11-11 21:40:29 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  contractList {\n    user {\n        email\n    }\n    client {\n        email\n    }\n    insurance {\n        agencyName\n        insuranceType\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  contractList {\n    user {\n        email\n    }\n    client {\n        email\n    }\n    insurance {\n        agencyName\n        insuranceType\n    }\n  }\n}"}}
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mClient Load (1.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 290ms (Views: 7.3ms | ActiveRecord: 11.0ms | Allocations: 2687410)


Started POST "/graphql" for ::1 at 2020-11-11 21:40:44 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  contractList {\n    id\n    user {\n        email\n    }\n    client {\n        email\n    }\n    insurance {\n        agencyName\n        insuranceType\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  contractList {\n    id\n    user {\n        email\n    }\n    client {\n        email\n    }\n    insurance {\n        agencyName\n        insuranceType\n    }\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mClient Load (1.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 300ms (Views: 8.2ms | ActiveRecord: 5.8ms | Allocations: 2737991)


Started POST "/graphql" for ::1 at 2020-11-11 21:45:17 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (5.9ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:14:in `resolve'
  [1m[36mContract Destroy (1.2ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:14:in `resolve'
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:14:in `resolve'
Completed 200 OK in 185ms (Views: 2.2ms | ActiveRecord: 11.2ms | Allocations: 1721113)


Started POST "/graphql" for ::1 at 2020-11-11 21:45:19 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
Couldn't find Contract with 'id'=1
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/core.rb:177:in `find'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 168ms (Views: 24.9ms | ActiveRecord: 2.4ms | Allocations: 1350609)


Started POST "/graphql" for ::1 at 2020-11-11 21:47:13 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
uninitialized constant Mutations::ContractMutations::ContractDestroy::Error
Did you mean?  IOError
               Errno
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:16:in `rescue in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:7:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 995ms (Views: 26.6ms | ActiveRecord: 15.3ms | Allocations: 8988950)


Started POST "/graphql" for ::1 at 2020-11-11 21:47:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.3ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
Couldn't find Contract with 'id'=1
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/core.rb:177:in `find'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 725ms (Views: 28.4ms | ActiveRecord: 16.9ms | Allocations: 5750494)


Started POST "/graphql" for ::1 at 2020-11-11 21:47:38 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
uninitialized constant Mutations::ContractMutations::ContractDestroy::Error
Did you mean?  IOError
               Errno
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:16:in `rescue in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:7:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 1076ms (Views: 30.0ms | ActiveRecord: 15.7ms | Allocations: 8988121)


Started POST "/graphql" for ::1 at 2020-11-11 21:47:58 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (5.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
undefined method `record' for #<ActiveRecord::RecordNotFound:0x00007fdf4795f898>
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:17:in `rescue in resolve'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/contract_mutations/contract_destroy.rb:7:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:101:in `block (3 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:89:in `block (2 levels) in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:81:in `block in resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/resolver.rb:70:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/relay_classic_mutation.rb:64:in `resolve_with_support'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 913ms (Views: 31.1ms | ActiveRecord: 18.9ms | Allocations: 7099071)


Started POST "/graphql" for ::1 at 2020-11-11 21:49:06 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
Completed 200 OK in 605ms (Views: 8.6ms | ActiveRecord: 10.7ms | Allocations: 5535329)


Started POST "/graphql" for ::1 at 2020-11-11 21:50:50 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 1}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
Completed 200 OK in 624ms (Views: 7.2ms | ActiveRecord: 19.4ms | Allocations: 5535214)


Started POST "/graphql" for ::1 at 2020-11-11 22:07:10 +0200
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 643ms (Views: 10.7ms | ActiveRecord: 1.2ms | Allocations: 5328785)


Started POST "/graphql" for ::1 at 2020-11-11 22:07:24 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 629ms (Views: 7.9ms | ActiveRecord: 6.4ms | Allocations: 5355638)


Started POST "/graphql" for ::1 at 2020-11-11 22:07:43 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        agent {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        agent {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mClient Load (1.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mContract Create (1.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (2, 1, 2, '2020-11-11 20:07:44.895418', '2020-11-11 20:07:44.895418')[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[35m (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
          Failed to implement Contract.agent, tried:

          - `Types::ContractType#agent`, which did not exist
          - `Contract#agent`, which did not exist
          - Looking up hash key `:agent` or `"agent"` on `#<Contract:0x00007fdf42264070>`, but it wasn't a Hash

          To implement this field, define one of the methods above (and check for typos)

/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:708:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:337:in `block in continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:332:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:378:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 1071ms (Views: 28.9ms | ActiveRecord: 30.6ms | Allocations: 8845714)


Started POST "/graphql" for ::1 at 2020-11-11 22:09:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mClient Load (1.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mContract Create (1.2ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (2, 1, 2, '2020-11-11 20:09:30.039298', '2020-11-11 20:09:30.039298')[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
Completed 200 OK in 1400ms (Views: 3.3ms | ActiveRecord: 37.9ms | Allocations: 11227657)


Started POST "/graphql" for ::1 at 2020-11-11 22:10:33 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:14:in `resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mClient Load (1.0ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mContract Create (1.1ms)[0m  [1m[32mINSERT INTO `contracts` (`client_id`, `user_id`, `insurance_id`, `created_at`, `updated_at`) VALUES (2, 1, 2, '2020-11-11 20:10:36.216486', '2020-11-11 20:10:36.216486')[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
Completed 200 OK in 1142ms (Views: 7.4ms | ActiveRecord: 33.9ms | Allocations: 11064418)


Started POST "/graphql" for ::1 at 2020-11-11 22:13:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createContract(input: { clientId: 2, insuranceId: 2}) {\n        user {\n            email\n        }\n        client {\n            email\n        }\n        insurance {\n            agencyName\n            insuranceType\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[36mClient Load (1.1ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
  [1m[35m (4.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/graphql/mutations/contract_mutations/contract_create.rb:12:in `resolve'
Completed 200 OK in 1147ms (Views: 2.9ms | ActiveRecord: 38.7ms | Allocations: 10719716)


Started POST "/graphql" for ::1 at 2020-11-11 22:14:43 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  contractList {\n    id\n    user {\n        email\n    }\n    client {\n        email\n    }\n    insurance {\n        agencyName\n        insuranceType\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  contractList {\n    id\n    user {\n        email\n    }\n    client {\n        email\n    }\n    insurance {\n        agencyName\n        insuranceType\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.2ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mClient Load (5.2ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mCACHE Client Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mCACHE Insurance Load (0.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mCACHE Client Load (0.3ms)[0m  [1m[34mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mCACHE Insurance Load (0.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1518ms (Views: 15.6ms | ActiveRecord: 32.7ms | Allocations: 13105402)


Started POST "/graphql" for ::1 at 2020-11-11 22:15:08 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 2}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 2}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (1.1ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:12:in `resolve'
  [1m[36mContract Destroy (5.7ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 2[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:12:in `resolve'
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:12:in `resolve'
Completed 200 OK in 223ms (Views: 2.4ms | ActiveRecord: 16.1ms | Allocations: 1754352)


Started POST "/graphql" for ::1 at 2020-11-11 22:15:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    destroyContract(input: { id: 3}) {\n        id\n    }\n}", "graphql"=>{"query"=>"mutation {\n    destroyContract(input: { id: 3}) {\n        id\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mContract Load (5.9ms)[0m  [1m[34mSELECT `contracts`.* FROM `contracts` WHERE `contracts`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:10:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:12:in `resolve'
  [1m[36mContract Destroy (1.6ms)[0m  [1m[31mDELETE FROM `contracts` WHERE `contracts`.`id` = 3[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:12:in `resolve'
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/contract_mutations/contract_destroy.rb:12:in `resolve'
Completed 200 OK in 210ms (Views: 2.4ms | ActiveRecord: 12.1ms | Allocations: 1639278)


Started POST "/graphql" for ::1 at 2020-11-11 22:24:45 +0200
  [1m[35m (5.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
wrong number of arguments (given 1, expected 0)
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:36:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 675ms (Views: 30.1ms | ActiveRecord: 1.3ms | Allocations: 4835179)


Started POST "/graphql" for ::1 at 2020-11-11 22:25:31 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = NULL LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:39:in `user'
Couldn't find User with 'id'={:id=>"1"}
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:339:in `raise_record_not_found_exception!'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:451:in `find_one'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:69:in `find'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:21:in `find'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/core.rb:167:in `find'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:39:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 586ms (Views: 22.9ms | ActiveRecord: 7.6ms | Allocations: 5153803)


Started POST "/graphql" for ::1 at 2020-11-11 22:25:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 73ms (Views: 2.8ms | ActiveRecord: 1.3ms | Allocations: 598733)


Started POST "/graphql" for ::1 at 2020-11-11 22:26:02 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 506ms (Views: 2.8ms | ActiveRecord: 10.9ms | Allocations: 4417960)


Started POST "/graphql" for ::1 at 2020-11-11 22:28:15 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = NULL LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:39:in `user'
Couldn't find User with 'id'={:id=>1}
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:339:in `raise_record_not_found_exception!'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:451:in `find_one'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/finder_methods.rb:69:in `find'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:21:in `find'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/core.rb:167:in `find'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:39:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 161ms (Views: 23.8ms | ActiveRecord: 2.2ms | Allocations: 1328103)


Started POST "/graphql" for ::1 at 2020-11-11 22:28:34 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:39:in `user'
Completed 200 OK in 590ms (Views: 2.4ms | ActiveRecord: 7.5ms | Allocations: 4998019)


Started POST "/graphql" for ::1 at 2020-11-11 22:28:51 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:1) {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:1) {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:39:in `user'
Completed 200 OK in 225ms (Views: 2.5ms | ActiveRecord: 6.7ms | Allocations: 1862898)


Started POST "/graphql" for ::1 at 2020-11-11 23:03:20 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`user_role` = 'operator' ORDER BY COUNT(contacts) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Mysql2::Error: Unknown column 'contacts' in 'order clause'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block (2 levels) in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `block in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:199:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:210:in `execute_and_free'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:489:in `select'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `block in select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:122:in `block in cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:113:in `cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:12:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:46:in `find_by_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:821:in `block in exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:839:in `skip_query_cache_if_necessary'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:808:in `exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:626:in `load'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:250:in `records'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 729ms (Views: 32.3ms | ActiveRecord: 7.3ms | Allocations: 5897295)


Started POST "/graphql" for ::1 at 2020-11-11 23:04:49 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' ORDER BY COUNT(companions.companion_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Mysql2::Error: Unknown column 'companions.companion_id' in 'order clause'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block (2 levels) in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `block in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:199:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:210:in `execute_and_free'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:489:in `select'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `block in select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:122:in `block in cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:113:in `cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:12:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:46:in `find_by_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:821:in `block in exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:839:in `skip_query_cache_if_necessary'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:808:in `exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:626:in `load'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:250:in `records'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 843ms (Views: 35.0ms | ActiveRecord: 28.2ms | Allocations: 6253451)


Started POST "/graphql" for ::1 at 2020-11-11 23:05:27 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' ORDER BY COUNT(companion_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Mysql2::Error: Unknown column 'companion_id' in 'order clause'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block (2 levels) in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `block in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:199:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:210:in `execute_and_free'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:489:in `select'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `block in select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:122:in `block in cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:113:in `cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:12:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:46:in `find_by_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:821:in `block in exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:839:in `skip_query_cache_if_necessary'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:808:in `exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:626:in `load'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:250:in `records'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 675ms (Views: 27.6ms | ActiveRecord: 13.0ms | Allocations: 6223271)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' LIMIT 11[0m
  [1m[36mCompanion Load (0.5ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` LIMIT 11[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[36mCompanion Create (0.3ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 21:08:00.942265', '2020-11-11 21:08:00.942265')[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/graphql" for ::1 at 2020-11-11 23:08:14 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' ORDER BY COUNT(contact_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Mysql2::Error: Expression #1 of ORDER BY contains aggregate function and applies to the result of a non-aggregated query
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block (2 levels) in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `block in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:199:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:210:in `execute_and_free'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:489:in `select'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `block in select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:122:in `block in cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:113:in `cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:12:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:46:in `find_by_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:821:in `block in exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:839:in `skip_query_cache_if_necessary'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:808:in `exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:626:in `load'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:250:in `records'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 733ms (Views: 29.4ms | ActiveRecord: 12.7ms | Allocations: 6220090)


Started POST "/graphql" for ::1 at 2020-11-11 23:08:32 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' ORDER BY COUNT(companions.ontact_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Mysql2::Error: Unknown column 'companions.ontact_id' in 'order clause'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block (2 levels) in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `block in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:199:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:210:in `execute_and_free'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:489:in `select'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `block in select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:122:in `block in cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:113:in `cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:12:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:46:in `find_by_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:821:in `block in exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:839:in `skip_query_cache_if_necessary'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:808:in `exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:626:in `load'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:250:in `records'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 741ms (Views: 31.7ms | ActiveRecord: 13.0ms | Allocations: 6222481)


Started POST "/graphql" for ::1 at 2020-11-11 23:08:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' ORDER BY COUNT(companions.contact_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Mysql2::Error: Expression #1 of ORDER BY contains aggregate function and applies to the result of a non-aggregated query
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:131:in `block in query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/mysql2-0.5.3/lib/mysql2/client.rb:130:in `query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:201:in `block (2 levels) in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:200:in `block in execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:199:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:41:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:210:in `execute_and_free'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:46:in `exec_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:489:in `select'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/database_statements.rb:70:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `block in select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:122:in `block in cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:113:in `cache_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:105:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/connection_adapters/mysql/database_statements.rb:12:in `select_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/querying.rb:46:in `find_by_sql'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:821:in `block in exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:839:in `skip_query_cache_if_necessary'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:808:in `exec_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:626:in `load'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation.rb:250:in `records'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/relation/delegation.rb:87:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:348:in `continue_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:238:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:232:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 743ms (Views: 33.1ms | ActiveRecord: 12.8ms | Allocations: 6222479)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' GROUP BY `users`.`id` ORDER BY COUNT(companions.contact_id) DESC LIMIT 11[0m
Started POST "/graphql" for ::1 at 2020-11-11 23:10:20 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' GROUP BY `users`.`id` ORDER BY COUNT(companions.contact_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 771ms (Views: 3.3ms | ActiveRecord: 7.9ms | Allocations: 6157752)


Started POST "/graphql" for ::1 at 2020-11-11 23:10:46 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' GROUP BY `users`.`id` ORDER BY COUNT(companions.contact_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 7[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 354ms (Views: 8.3ms | ActiveRecord: 14.9ms | Allocations: 2754177)


Started POST "/graphql" for ::1 at 2020-11-11 23:12:07 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 7[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 581ms (Views: 10.0ms | ActiveRecord: 12.1ms | Allocations: 4671685)


Started POST "/graphql" for ::1 at 2020-11-11 23:12:35 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 7, contacts: [2,3] }) {\n        name\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 7, contacts: [2,3] }) {\n        name\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'd@d.d' AND `users`.`id` != 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 7[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 7 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (7, 2, '2020-11-11 21:12:36.357679', '2020-11-11 21:12:36.357679')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 7 AND `companions`.`contact_id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (5.5ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (7, 3, '2020-11-11 21:12:36.545185', '2020-11-11 21:12:36.545185')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
Completed 200 OK in 758ms (Views: 2.1ms | ActiveRecord: 38.7ms | Allocations: 7189790)


Started POST "/graphql" for ::1 at 2020-11-11 23:12:40 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  operators {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  operators {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` LEFT OUTER JOIN `companions` ON `companions`.`user_id` = `users`.`id` WHERE `users`.`user_role` = 'operator' GROUP BY `users`.`id` ORDER BY COUNT(companions.contact_id) DESC[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 7[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 267ms (Views: 8.8ms | ActiveRecord: 10.1ms | Allocations: 2449263)


Started POST "/graphql" for ::1 at 2020-11-11 23:20:15 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(email:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(email:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 595ms (Views: 14.2ms | ActiveRecord: 1.2ms | Allocations: 5479921)


Started POST "/graphql" for ::1 at 2020-11-11 23:20:26 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:40:in `user'
Couldn't find User with 'id'=12
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/core.rb:177:in `find'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:40:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 170ms (Views: 27.7ms | ActiveRecord: 2.3ms | Allocations: 1429331)


Started POST "/graphql" for ::1 at 2020-11-11 23:21:05 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:40:in `user'
Couldn't find User with 'id'=12
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/core.rb:177:in `find'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:40:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 160ms (Views: 28.1ms | ActiveRecord: 11.4ms | Allocations: 1336735)


Started POST "/graphql" for ::1 at 2020-11-11 23:21:26 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 500 Internal Server Error in 562ms (ActiveRecord: 6.7ms | Allocations: 4908545)


  
SyntaxError (/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:52: syntax error, unexpected end, expecting end-of-input):
  
app/graphql/types/query_type.rb:52: syntax error, unexpected end, expecting end-of-input
app/graphql/types/query_type.rb:52: syntax error, unexpected end, expecting end-of-input
app/graphql/types/query_type.rb:52: syntax error, unexpected end, expecting end-of-input
app/graphql/operator_agent_api_schema.rb:3:in `<class:OperatorAgentApiSchema>'
app/graphql/operator_agent_api_schema.rb:1:in `<main>'
app/controllers/graphql_controller.rb:18:in `execute'
Started POST "/graphql" for ::1 at 2020-11-11 23:22:08 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:40:in `user'
undefined local variable or method `entity_error' for #<Types::QueryType:0x00007fdf422c4088>
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:42:in `rescue in user'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:37:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 1206ms (Views: 25.7ms | ActiveRecord: 20.7ms | Allocations: 10036658)


Started POST "/graphql" for ::1 at 2020-11-11 23:22:49 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (15.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (10.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:40:in `user'
undefined local variable or method `entity_error' for #<Types::QueryType:0x00007fdf479a4ba0>
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:42:in `rescue in user'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:37:in `user'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 765ms (Views: 31.2ms | ActiveRecord: 26.2ms | Allocations: 6280901)


Started POST "/graphql" for ::1 at 2020-11-11 23:23:32 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id:12) {\n    id\n    email\n    contacts {\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 12 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:36:in `user'
Completed 200 OK in 614ms (Views: 3.3ms | ActiveRecord: 7.1ms | Allocations: 5819799)


  [1m[36mInsurance Load (0.5ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` LIMIT 11[0m
Started POST "/graphql" for ::1 at 2020-11-11 23:35:19 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    createInsurance(input: { agencyName: \"Agency\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n        agencyName\n    }\n}", "graphql"=>{"query"=>"mutation {\n    createInsurance(input: { agencyName: \"Agency\", insuranceType: \"life\", totalCost: 980.00, period: \"annual\"}) {\n        agencyName\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[36mInsurance Create (5.7ms)[0m  [1m[32mINSERT INTO `insurances` (`agency_name`, `insurance_type`, `total_cost`, `period`, `created_at`, `updated_at`) VALUES ('Agency', 'life', 980.0, 'annual', '2020-11-11 21:35:22.299828', '2020-11-11 21:35:22.299828')[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/insurance_mutations/insurance_create.rb:14:in `resolve'
Completed 200 OK in 838ms (Views: 2.4ms | ActiveRecord: 24.9ms | Allocations: 7245188)


  [1m[36mInsurance Load (0.4ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` LIMIT 11[0m
Started POST "/graphql" for ::1 at 2020-11-11 23:57:54 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}"}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
undefined method `max' for Float:Class
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:62:in `compare'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 867ms (Views: 26.8ms | ActiveRecord: 1.5ms | Allocations: 7056384)


Started POST "/graphql" for ::1 at 2020-11-11 23:59:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}"}}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
undefined method `MAX' for Float:Class
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/types/query_type.rb:62:in `compare'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `public_send'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:690:in `block in public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:726:in `with_extensions'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:672:in `public_send_field'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:585:in `block in resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:112:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema/field.rb:583:in `resolve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:226:in `block (5 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:225:in `block (4 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:353:in `block in with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/errors.rb:30:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/query.rb:352:in `with_error_handling'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:224:in `block (3 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:385:in `resolve_with_directives'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:221:in `block (2 levels) in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:460:in `after_lazy'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:179:in `block in evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:126:in `evaluate_selections'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter/runtime.rb:58:in `run_eager'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:73:in `block in evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:72:in `evaluate'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/interpreter.rb:45:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:112:in `begin_query'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:83:in `block in run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `map'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:82:in `run_as_multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:61:in `block (2 levels) in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:195:in `block in instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:29:in `block (2 levels) in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:46:in `block (2 levels) in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:41:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:45:in `block in each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:44:in `each_query_call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:27:in `block in apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:72:in `call_hooks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/instrumentation.rb:26:in `apply_instrumenters'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:174:in `instrument_and_analyze'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:60:in `block in run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/tracing.rb:66:in `trace'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:58:in `run_queries'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/execution/multiplex.rb:48:in `run_all'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1656:in `multiplex'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/graphql-1.11.6/lib/graphql/schema.rb:1627:in `execute'
/Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/controllers/graphql_controller.rb:18:in `execute'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:195:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/notifications.rb:180:in `instrument'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/abstract_controller/base.rb:136:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionview-6.0.3.4/lib/action_view/rendering.rb:39:in `process'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:190:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_controller/metal.rb:254:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/http/content_security_policy.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/cookies.rb:648:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activerecord-6.0.3.4/lib/active_record/migration.rb:567:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:132:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:28:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `catch'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/web-console-4.1.0/lib/web_console/middleware.rb:17:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:37:in `call_app'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `block in call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/rack/logger.rb:26:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/sprockets-rails-3.2.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/activesupport-6.0.3.4/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/webpacker-4.3.0/lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/rack-proxy-0.6.5/lib/rack/proxy.rb:57:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/railties-6.0.3.4/lib/rails/engine.rb:527:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/configuration.rb:228:in `call'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:713:in `handle_request'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:472:in `process_client'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/server.rb:328:in `block in run'
/Users/artemkuvychka/.rvm/gems/ruby-2.6.5/gems/puma-4.3.6/lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Completed 500 Internal Server Error in 887ms (Views: 28.3ms | ActiveRecord: 19.9ms | Allocations: 7095379)


Started POST "/graphql" for ::1 at 2020-11-12 00:01:23 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (5.9ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
Completed 200 OK in 930ms (Views: 2.0ms | ActiveRecord: 23.7ms | Allocations: 7163158)


Started POST "/graphql" for ::1 at 2020-11-12 00:01:45 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.6ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mCACHE Insurance Load (0.0ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m  [["id", 3], ["LIMIT", 1]]
  ↳ (byebug):1:in `compare'
Completed 500 Internal Server Error in 177162ms (ActiveRecord: 13.8ms | Allocations: 7338809)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `compare'
app/graphql/types/query_type.rb:78:in `compare'
app/controllers/graphql_controller.rb:18:in `execute'
Started POST "/graphql" for ::1 at 2020-11-12 00:05:11 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n  }\n}"}}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
Completed 500 Internal Server Error in 10177ms (ActiveRecord: 18.3ms | Allocations: 7103801)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `compare'
app/graphql/types/query_type.rb:78:in `compare'
app/controllers/graphql_controller.rb:18:in `execute'
Started POST "/graphql" for ::1 at 2020-11-12 00:06:35 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
Completed 200 OK in 928ms (Views: 2.6ms | ActiveRecord: 23.0ms | Allocations: 7300418)


Started POST "/graphql" for ::1 at 2020-11-12 00:06:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalPrice\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalPrice\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 152ms (Views: 4.3ms | ActiveRecord: 1.2ms | Allocations: 1187680)


Started POST "/graphql" for ::1 at 2020-11-12 00:07:06 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalCost\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalCost\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.3ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
Completed 200 OK in 191ms (Views: 2.7ms | ActiveRecord: 4.9ms | Allocations: 1593891)


Started POST "/graphql" for ::1 at 2020-11-12 00:07:14 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3]) {\n    id\n    agencyName\n    totalCost\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3]) {\n    id\n    agencyName\n    totalCost\n  }\n}"}}
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (1.7ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.4ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
Completed 200 OK in 171ms (Views: 7.5ms | ActiveRecord: 9.3ms | Allocations: 1400318)


Started POST "/graphql" for ::1 at 2020-11-12 00:07:21 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalCost\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalCost\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mInsurance Load (5.4ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.1ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
  [1m[36mInsurance Load (1.2ms)[0m  [1m[34mSELECT `insurances`.* FROM `insurances` WHERE `insurances`.`id` = 4 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:66:in `block in compare'
Completed 200 OK in 183ms (Views: 2.6ms | ActiveRecord: 9.0ms | Allocations: 1587288)


Started POST "/graphql" for ::1 at 2020-11-12 00:08:19 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalCost\n  }\n}", "graphql"=>{"query"=>"query {\n  compare(list:[2,3,4]) {\n    id\n    agencyName\n    totalCost\n  }\n}"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 264ms (Views: 7.7ms | ActiveRecord: 1.6ms | Allocations: 2406800)


Started POST "/graphql" for ::1 at 2020-11-12 00:28:28 +0200
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n    }\n}"}}
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (6.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (1.2ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (7.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (5.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.1ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 22:28:31.353563', '2020-11-11 22:28:31.353563')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Load (1.1ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.1ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 3, '2020-11-11 22:28:31.566353', '2020-11-11 22:28:31.566353')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
Completed 200 OK in 1647ms (Views: 6.4ms | ActiveRecord: 84.5ms | Allocations: 13394471)


Started POST "/graphql" for ::1 at 2020-11-12 00:28:48 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n        contacts\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n        contacts\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 131ms (Views: 8.7ms | ActiveRecord: 1.1ms | Allocations: 1032232)


Started POST "/graphql" for ::1 at 2020-11-12 00:28:56 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (5.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.7ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` IN (2, 3)[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (5.4ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 4[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (1.7ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 5[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 22:28:57.646837', '2020-11-11 22:28:57.646837')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Load (5.7ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 3, '2020-11-11 22:28:57.864790', '2020-11-11 22:28:57.864790')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1021ms (Views: 7.1ms | ActiveRecord: 63.9ms | Allocations: 8237554)


Started POST "/graphql" for ::1 at 2020-11-12 00:29:42 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 1, contacts: [2,3] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'a@a.a' AND `users`.`id` != 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.1ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` IN (2, 3)[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (1.1ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 6[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (1.7ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 7[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.1ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.3ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-11-11 22:29:45.906133', '2020-11-11 22:29:45.906133')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 1 AND `companions`.`contact_id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (1, 3, '2020-11-11 22:29:46.107705', '2020-11-11 22:29:46.107705')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1743ms (Views: 3.2ms | ActiveRecord: 47.3ms | Allocations: 14383442)


Started POST "/graphql" for ::1 at 2020-11-12 00:30:34 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, contacts: [2,3] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, contacts: [2,3] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (6.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 3 AND `companions`.`contact_id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (3, 2, '2020-11-11 22:30:35.305234', '2020-11-11 22:30:35.305234')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Load (5.7ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 3 AND `companions`.`contact_id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (3, 3, '2020-11-11 22:30:35.507213', '2020-11-11 22:30:35.507213')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 808ms (Views: 3.1ms | ActiveRecord: 43.1ms | Allocations: 6968851)


Started POST "/graphql" for ::1 at 2020-11-12 00:30:47 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, contacts: [] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, contacts: [] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 3 AND `companions`.`contact_id` IN (2, 3)[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (1.2ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 10[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Destroy (7.0ms)[0m  [1m[31mDELETE FROM `companions` WHERE `companions`.`id` = 11[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 540ms (Views: 2.7ms | ActiveRecord: 21.8ms | Allocations: 4507669)


Started POST "/graphql" for ::1 at 2020-11-12 00:32:03 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, contacts: [] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, contacts: [] }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:15:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1031ms (Views: 2.5ms | ActiveRecord: 26.5ms | Allocations: 8676414)


Started POST "/graphql" for ::1 at 2020-11-12 00:36:15 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, name: \"123\" }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, name: \"123\" }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:13:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'c@c.c' AND `users`.`id` != 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = '123', `users`.`updated_at` = '2020-11-11 22:36:17.741592' WHERE `users`.`id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 3[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1164ms (Views: 2.4ms | ActiveRecord: 19.6ms | Allocations: 8936570)


Started POST "/graphql" for ::1 at 2020-11-12 00:37:54 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 3, name: \"123\" }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 3, name: \"123\" }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:13:in `resolve'
Completed 200 OK in 723ms (Views: 8.8ms | ActiveRecord: 7.8ms | Allocations: 6101468)


Started POST "/graphql" for ::1 at 2020-11-12 00:38:03 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 2, name: \"123\" }) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 2, name: \"123\" }) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:13:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'b@b.b' AND `users`.`id` != 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE `users` SET `users`.`name` = '123', `users`.`updated_at` = '2020-11-11 22:38:03.414780' WHERE `users`.`id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 525ms (Views: 2.6ms | ActiveRecord: 32.4ms | Allocations: 4224041)


Started POST "/graphql" for ::1 at 2020-11-12 00:44:13 +0200
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 2)) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 2)) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 627ms (Views: 4.1ms | ActiveRecord: 1.3ms | Allocations: 4790484)


Started POST "/graphql" for ::1 at 2020-11-12 00:44:18 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 2) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 2) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:38:in `user'
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 295ms (Views: 3.2ms | ActiveRecord: 8.1ms | Allocations: 2321667)


Started POST "/graphql" for ::1 at 2020-11-12 00:44:41 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"mutation {\n    updateUser(input: { id: 2, contacts: [1,3]}) {\n        name\n        contacts {\n            id\n        }\n    }\n}", "graphql"=>{"query"=>"mutation {\n    updateUser(input: { id: 2, contacts: [1,3]}) {\n        name\n        contacts {\n            id\n        }\n    }\n}"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:13:in `resolve'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :email attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from resolve at /Users/artemkuvychka/Work/tmp/OperatorAgentApi/app/graphql/mutations/user_mutations/user_update.rb:17)
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`email` = BINARY 'b@b.b' AND `users`.`id` != 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:17:in `resolve'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:24:in `resolve'
  [1m[36mCompanion Load (1.2ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 2 AND `companions`.`contact_id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (5.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (1.2ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (2, 1, '2020-11-11 22:44:42.472271', '2020-11-11 22:44:42.472271')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Load (1.3ms)[0m  [1m[34mSELECT `companions`.* FROM `companions` WHERE `companions`.`user_id` = 2 AND `companions`.`contact_id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mCompanion Create (5.6ms)[0m  [1m[32mINSERT INTO `companions` (`user_id`, `contact_id`, `created_at`, `updated_at`) VALUES (2, 3, '2020-11-11 22:44:42.727323', '2020-11-11 22:44:42.727323')[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:27:in `block in resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/mutations/user_mutations/user_update.rb:29:in `resolve'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 1079ms (Views: 3.0ms | ActiveRecord: 58.8ms | Allocations: 8327880)


Started POST "/graphql" for ::1 at 2020-11-12 00:45:18 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 2) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 2) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:38:in `user'
Completed 200 OK in 135ms (Views: 8.4ms | ActiveRecord: 2.3ms | Allocations: 1208136)


Started POST "/graphql" for ::1 at 2020-11-12 00:45:30 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 1) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 1) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:38:in `user'
  [1m[36mUser Exists? (5.6ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2 AND `users`.`id` = 1 LIMIT 1[0m
  ↳ app/models/abilities/manage_user_ability.rb:9:in `initialize'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 1[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 264ms (Views: 3.9ms | ActiveRecord: 9.4ms | Allocations: 2231202)


Started POST "/graphql" for ::1 at 2020-11-12 00:46:16 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 3) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 3) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:38:in `user'
Completed 200 OK in 132ms (Views: 3.5ms | ActiveRecord: 2.3ms | Allocations: 1169593)


Started POST "/graphql" for ::1 at 2020-11-12 00:46:21 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  user(id: 7) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}", "graphql"=>{"query"=>"query {\n  user(id: 7) {\n    id\n    email\n    contacts {\n        id\n        email\n    }\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 AND `users`.`user_role` = 'agent' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  ↳ app/graphql/types/query_type.rb:38:in `user'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `users` INNER JOIN `companions` ON `users`.`id` = `companions`.`contact_id` WHERE `companions`.`user_id` = 2 AND `users`.`id` = 7 LIMIT 1[0m
  ↳ app/models/abilities/manage_user_ability.rb:9:in `initialize'
Completed 200 OK in 176ms (Views: 3.4ms | ActiveRecord: 7.9ms | Allocations: 1530547)


Started POST "/graphql" for ::1 at 2020-11-12 00:46:39 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    id\n    agencyName\n    totalCost\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    id\n    agencyName\n    totalCost\n  }\n}"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
Completed 200 OK in 133ms (Views: 11.8ms | ActiveRecord: 1.1ms | Allocations: 1117184)


Started POST "/graphql" for ::1 at 2020-11-12 00:46:50 +0200
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    id\n    \n    userRole\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    id\n    \n    userRole\n  }\n}"}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 171ms (Views: 8.4ms | ActiveRecord: 2.6ms | Allocations: 1397490)


Started POST "/graphql" for ::1 at 2020-11-12 00:56:49 +0200
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by GraphqlController#execute as */*
  Parameters: {"query"=>"query {\n  userList {\n    id\n    \n    userRole\n  }\n}", "graphql"=>{"query"=>"query {\n  userList {\n    id\n    \n    userRole\n  }\n}"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND `users`.`user_role` = 'operator' ORDER BY `users`.`id` ASC LIMIT 1[0m
  ↳ app/controllers/application_controller.rb:10:in `fetch_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
  ↳ app/controllers/graphql_controller.rb:18:in `execute'
Completed 200 OK in 81ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 22061)


